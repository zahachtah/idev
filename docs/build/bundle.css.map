{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Content.svelte",
    "Image.svelte",
    "Section.svelte",
    "Video.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport Content from './Content.svelte'\n\timport { dndzone } from 'svelte-dnd-action';\n\timport Svg from './Svg.svelte'\n\tlet nodes={}\n\tlet opt={'depth':1,\n\t\t\t 'base':'root',\n\t\t\t url:'https://9231c9c3-121c-4b8e-bbfd-ac275ec62eb9-bluemix.cloudantnosqldb.appdomain.cloud/test/',\n\t\t\t 'edit':false, \n\t\t\t 'history':[], \n\t\t\t 'dragDisabled':true,\n\t\t\t 'user':\"apikey-81f76e82d4154627812593832eb9c4cb\",\n\t\t\t 'pwd':\"8918d591770b9449c2012979b0f9101b5416e1c6\"}\n\tlet key=false\n\t\n\tfunction _handleKeydown(event) {\n\t\tkey = event.which;\n\t}\n\n\tconst newNodes=\"957fd8f002d38bd256c615b4c84cd5fc\"\n\t\n\tasync function getID(id){\n\tif (!nodes[id]){\n\tawait fetch(opt.url+id)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tnodes[id]= data;\n\t\tconsole.log(id)\n\t\t}).catch(function(error) {\n        console.log(error);\n    });\n\t}\n}\n\tlet start\n\tlet menuWidth=\"40px\"\n\tfunction startTimer(){\n\t\tstart=Date.now()\n\t}\n\tfunction check(){\n\t\tconst elapsed=Date.now()-start\n\t\tif (elapsed<500)\n\t\t\t{\tif (opt.history.length>0){\n\t\topt.base=opt.history[opt.history.length-1];\n\t\topt.history.pop()\n\t}}\n\t\telse\n\t\t\t{\n\t\t\t\tif (menuWidth==\"40px\")\n\t\t\t\t\t{menuWidth='100%'}\n\t\t\t\t\telse\n\t\t\t\t\t{menuWidth=\"40px\"}\n\t\t\t}\n\t}\n\n\tfunction toggle(x){x=!x}\n\t\n\t$: if(key==68) {opt.drag=!opt.drag} else if (key==69) {opt.edit=!opt.edit} // add authorization\n</script>\n<svelte:window on:keydown=\"{_handleKeydown}\" on:keyup=\"{() => key = false}\"/>\n<section>\n<Content bind:nodes={nodes} bind:opt={opt} id={opt.base} depth={1}/>\n</section>\n<div class=\"back\" style=\"width: {menuWidth}\" on:mousedown|self={()=>startTimer()} on:mouseup|self={()=>check()} on:touchstart|self={()=>startTimer()} on:touchend|self={()=>check()}>\n{#if menuWidth==\"100%\"}\n\t<span  class=\"control\" ><Svg name=\"Connection\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Authorization\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Trash\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Cut\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Section\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Code\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Video\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Image\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Paragraph\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" on:click={()=>{opt.edit=!opt.edit}}><Svg name=\"Editor\" size=30 fill={(opt.edit)?\"olive\":\"crimson\"}/></span>\n\t<span  class=\"control\" on:click={()=>{opt.dragDisabled=!opt.dragDisabled}}><Svg name=\"Move\" size=30 fill={(opt.dragDisabled)?\"crimson\":\"olive\"}/></span>\n\t<span  class=\"control\" ><Svg name=\"Equation\" size=30 fill=\"black\"/></span>\n{/if}\n</div>\n{#await getID(newNodes)}\n{:then go}\n{/await}\n\n\n<style>\n:global(body){\n\tmargin:0;\n\tpadding:0;\n\n\t}\n\n\t.back {\n\t\tbox-sizing: border-box;\n\t\tdisplay:flex;\n\t\tflex-direction: row-reverse;\n\t\tjustify-content: center;\n\t\talign-content: center;\n\t\theight: 40px;\n\t\tbackground-color: rgba(230,230,240,0.8);\n\t\tposition: fixed;\n  \t\tright: 0;\n  \t\tbottom: 0;\n\t\tborder-radius: 15px 0px 0px 0px;\n\t\tpadding-right:40px;\n\t\twhite-space: nowrap;\n\t}\n\t.control {\n\t\twidth:40px;\n\t\theight:40px;\n\t\tmargin:0px;\n\t\tpadding:40;\n\t\tdisplay: inline-block;\n\t\tpadding: 5px\n\t}\n\t\n\t.new {\n\t\twidth: 40px;\n\t\tmin-height: 40px;\n\t\tbackground-color: coral;\n\t\tposition: fixed;\n  \tleft: 0;\n  \tbottom: 0;\n\t\tborder-radius: 0px 10px 0px 0px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap:wrap;\n\t\tjustify-content: center\n\t}\n\t\n\t.item {\n\t\twidth:30px;\n\t\theight:30px;\n\t\tbackground-color: white;\n\t\tmargin: 5px;\n\t\tborder-radius: 10px;\n\t\tpadding-left: 5px;\n\t\tpadding-top: 3px\n\t}\n\tsection {\n\t\twidth: auto;\n\t\tmax-width: 800px;\n\t\tborder: 0px solid black;\n\t\tpadding: 0;\n        /* this will allow the dragged element to scroll the list */\n\t\toverflow-y: auto ;\n\t\theight: auto;\n\t\tbackground-color: white /* rgba(100, 100, 100, 0.05);*/ \n\t}\n</style>",
    "<script>\n\timport { flip } from 'svelte/animate';\n\timport { dndzone } from 'svelte-dnd-action';\n\timport Svg from './Svg.svelte'\n\timport Paragraph from './Paragraph.svelte'\n\timport Image from './Image.svelte'\n\timport Video from './Video.svelte'\n\timport Code from './Code.svelte'\n\timport Section from './Section.svelte'\n\timport Options from './Options.svelte'\n\timport Style from './Style.svelte'\n\timport Connection from './Connection.svelte'\n\timport Authorization from './Authorization.svelte'\n\timport Svega from './Svega.svelte'\n\timport Data from './Data.svelte'\n\timport CouchDB from './CouchDB.svelte'\nimport { check_outros } from 'svelte/internal';\n\texport let nodes\n\texport let opt\n\texport let id\n\texport let depth\n\texport let width\n\texport let view\n\tlet key\n\n\tlet exempt=[\"Header\"]\n\n\tlet comp={\tParagraph:Paragraph, \n\t\t\t\tImage:Image,\n\t\t\t\tVideo:Video,\n\t\t\t\tCode:Code,\n\t\t\t\tSvg:Svg,\n\t\t\t\tSection:Section,\n\t\t\t\tOptions:Options,\n\t\t\t\tStyle:Style,\n\t\t\t\tConnection:Connection,\n\t\t\t\tAuthorization:Authorization,\n\t\t\t\tSvega:Svega,\n\t\t\t\tData:Data}\n\n\tconst flipDurationMs = 400;\n\t\n\tfunction handleDndConsider(e) {\n\t\tnodes[id].links = e.detail.items\n\t}\n\t\n\tfunction handleDndFinalize(e) {\n\t\t\n\t\tnodes[id].links = e.detail.items;\n\t\tpost(id)\n\t\tconsole.log('update node with links')\n\t}\n\t\n\t\nasync function post(id) {\n\ttry {\n\t\tconst options={\n\t\t\tmethod: 'put',\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\"authorization\": 'Basic ' + btoa(opt.user + ':' + opt.pwd)\n\t\t\t},\n\t\t\tbody: JSON.stringify(nodes[id])\n\t\t}\n\t\tconst response=await fetch(opt.url+id, options)\n\t\tconst data= await response.json()\n\t\tnodes[id]._rev=data.rev\n\t\tconsole.log(options)\n\t\tconsole.log(data)\n\t}\n\tcatch (err) {console.log(err)}\n}\n\nasync function get(id){\n\t\n\ttry {\n\t\tif (Array.isArray(id))\n\t\t\t{\n\t\t\t\tconst options={\n    \t\t\tmethod: 'post',\n    \t\t\theaders: {\n      \t\t\t\"Content-Type\": \"application/json\"\n    \t\t\t},\n    \t\t\tbody: JSON.stringify({keys:id.map(el=>el.id), include_docs:true})\n\t\t\t  }\n\t\t\t\tconst response=await fetch(opt.url+'_all_docs', options)\n\t\t\t\tconst data= await response.json()\n\t\t\t\tconst add=[]\n\t\t\t\tdata.rows.forEach(el => {\n\t\t\t\t\tnodes[el.id]=el.doc; \n\t\t\t\t\tif (nodes[el.id].hasOwnProperty('links'))\n\t\t\t\t\t\t{if (nodes[el.id].links.length>0)\t\n\t\t\t\t\t\t\t{nodes[el.id].links.forEach(link=>add.push(link))}; };\n\t\t\t\t\t\t});\n\t\t\t\t if (add.length>0){await get(add)};// not sure how add coulc be empty as links.length has to be >0\n\t\t\t\treturn data\n\t\t\t}\n\t\telse {\n\t\t\tif (nodes[id]) //don't fetch it twice\n\t\t\t\t{ //IF nodes[id].links and these not in keys(nodes) then bulk-fetch these\n\t\t\t\t\treturn nodes[id]}\n\t\t\telse \n\t\t\t\t{\n\t\t\t\tconst response=await fetch(opt.url+id)\n\t\t\t\t//console.log(response)\n\t\t\t\tconst data= await response.json()\n\t\t\t\tnodes[id]=data;\n\t\t\t\t\n\t\t\t\tif (data.hasOwnProperty('links')) {await get(data.links)}\n\t\t\t\treturn nodes[id]\n\t\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t\n\tconsole.log(id)\n\t\tconsole.log(err)\n\t\treturn err\n\t}\t\n}\n\nfunction addRemove(event,id){console.log(event.offsetY/event.currentTarget.getBoundingClientRect().height);}\n\n</script>\n{#await get(id)}\n\tloading {id}\n\t\n{:then go}\n\n\t<svelte:component this={comp[nodes[id].type]} bind:nodes={nodes} bind:opt={opt} id={id} width={width} depth={depth} view={view}/>\n\n\t{#if nodes[id].links}\n\t\t<section use:dndzone={{items:nodes[id].links, flipDurationMs,type:'dnd',dragDisabled:opt.dragDisabled}}\n\t\t\t\t\ton:consider={handleDndConsider} \n\t\t\t\t\ton:finalize={handleDndFinalize}>\n\t\t\t{#if depth<=opt.depth}\n\t\t\t\t{#each nodes[id].links as link (link.id)}\n\t\t\t\t\t\t<div animate:flip=\"{{duration: flipDurationMs}}\" class=\"item\" on:click={(event)=>addRemove(event,link.id)}>\n\t\t\t\t\t\t\t<svelte:self bind:nodes={nodes} bind:opt={opt} id={link.id} width={width} depth={depth+1} view={link.view}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t{/if}\n\t\t</section>\n\t{/if}\n{:catch error}\n\t<p style=\"color: red\">{error.message}</p>\n{/await}\n\n<style>\n\tsection {\n\t\twidth: auto;\n\t\tmax-width: 800px;\n\t\tborder: 0px solid black;\n\t\tpadding: 0;\n        /* this will allow the dragged element to scroll the list */\n\t\toverflow-y: auto ;\n\t\theight: auto;\n\t\tbackground-color: white /* rgba(100, 100, 100, 0.05);*/ \n\t}\n\tdiv {\n\t\twidth: 95%;\n\t\tpadding: 0.2em;\n\t\tborder: 0px solid blue;\n\t\tmargin: 0.15em 0;\n\t}\n\t.item {\n\t\tbackground-color: white /*rgba(00, 100, 100, 0.05);*/\n\t}\n</style>",
    "<script>\nexport let opt\nexport let nodes\nexport let width\nexport let depth\nexport let id\nexport let view\n$: width\n</script>\n\n{#if view!=\"header\"}\n\n<img src={nodes[id].content.src} alt=\"\"/>\n    <span contenteditable={opt.edit} style=\"color:salmon\"><i>{nodes[id].content.caption}</i></span>\n{/if}\n<style>\nimg {\nwidth:100%\n}\n</style>",
    "<script>\nimport Image from './Image.svelte'\nexport let opt\nexport let nodes\nexport let id\nexport let width\nexport let depth\nexport let view\nlet backgroundImageID=nodes[id].links.filter(x=>x.view=='header')[0].id\n// https://images.unsplash.com/photo-1607088829306-76f3779160f6?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80\n</script>\n{#if nodes[backgroundImageID]}\n    <section class=\"masthead\" role=\"img\" aria-label=\"Image Description\" style=\"background-image:url({nodes[backgroundImageID].content.src})\">\n  \t\t<h1  on:click={()=>{opt.history.push(opt.base); opt.base=id; console.log(id)}}>{@html nodes[id].content.title}</h1>\n\t</section>\n    {/if}\n\n\n<style>\n\t.masthead {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  text-align: center;\n  width: 100%;\n  height: 60vw; /* if you don't want it to take up the full screen, reduce this number */\n  max-height: 400px;\n  overflow: hidden;\n  background-size: cover !important;\n  background:  no-repeat center center scroll;\n}\n\nh1 {\n  font-style: normal;\n  font-weight: bold;\n  color: #eee;\n  font-size: min(8vmin,30px);\n  letter-spacing: 0.03em;\n  line-height: 1;\n  text-shadow: 1px 2px 4px rgba(0, 0, 0, 0.8);\n  margin-bottom: -90px;/* 40 to be in middle */\n}</style>\n",
    "<script>\n\t\texport let nodes\n\t\texport let id\n\t\texport let opt\n\t\texport let width\n\t\texport let depth\n\t\texport let view\n$: opt\n$: width\n</script>\n\n<div class=\"container\">\n<iframe class=\"video\" title=\"title\" src={nodes[id].content.src} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n</div>\n\n<style>\n.container {\n    position: relative;\n    width: 100%;\n    height: 0;\n    padding-bottom: 56.25%;\n}\n.video {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n</style>"
  ],
  "names": [],
  "mappings": "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"
}