{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/animate/index.mjs","../../node_modules/svelte-dnd-action/src/helpers/dispatcher.js","../../node_modules/svelte-dnd-action/src/constants.js","../../node_modules/svelte-dnd-action/src/helpers/intersection.js","../../node_modules/svelte-dnd-action/src/helpers/listUtil.js","../../node_modules/svelte-dnd-action/src/helpers/scroller.js","../../node_modules/svelte-dnd-action/src/helpers/util.js","../../node_modules/svelte-dnd-action/src/helpers/observer.js","../../node_modules/svelte-dnd-action/src/helpers/windowScroller.js","../../node_modules/svelte-dnd-action/src/helpers/styler.js","../../node_modules/svelte-dnd-action/src/pointerAction.js","../../node_modules/svelte-dnd-action/src/helpers/aria.js","../../node_modules/svelte-dnd-action/src/keyboardAction.js","../../node_modules/svelte-dnd-action/src/action.js","../../src/Svg.svelte","../../src/Paragraph.svelte","../../src/Image.svelte","../../src/Video.svelte","../../node_modules/svelte-prism/src/beforeImport.js","../../node_modules/prismjs/prism.js","../../node_modules/prism-svelte/index.js","../../node_modules/svelte-prism/src/Prism.svelte","../../src/Code.svelte","../../src/Section.svelte","../../src/Content.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.29.4' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicOut } from '../easing';\nimport { is_function } from '../internal';\n\nfunction flip(node, animation, params) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const scaleX = animation.from.width / node.clientWidth;\n    const scaleY = animation.from.height / node.clientHeight;\n    const dx = (animation.from.left - animation.to.left) / scaleX;\n    const dy = (animation.from.top - animation.to.top) / scaleY;\n    const d = Math.sqrt(dx * dx + dy * dy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(d) : duration,\n        easing,\n        css: (_t, u) => `transform: ${transform} translate(${u * dx}px, ${u * dy}px);`\n    };\n}\n\nexport { flip };\n","// external events\nconst FINALIZE_EVENT_NAME = \"finalize\";\nconst CONSIDER_EVENT_NAME = \"consider\";\n\n/**\n * @typedef {Object} Info\n * @property {string} trigger\n * @property {string} id\n * @property {string} source\n * @param {Node} el\n * @param {Array} items\n * @param {Info} info\n */\nexport function dispatchFinalizeEvent(el, items, info) {\n    el.dispatchEvent(\n        new CustomEvent(FINALIZE_EVENT_NAME, {\n            detail: {items, info}\n        })\n    );\n}\n\n/**\n * Dispatches a consider event\n * @param {Node} el\n * @param {Array} items\n * @param {Info} info\n */\nexport function dispatchConsiderEvent(el, items, info) {\n    el.dispatchEvent(\n        new CustomEvent(CONSIDER_EVENT_NAME, {\n            detail: {items, info}\n        })\n    );\n}\n\n// internal events\nexport const DRAGGED_ENTERED_EVENT_NAME = \"draggedEntered\";\nexport const DRAGGED_LEFT_EVENT_NAME = \"draggedLeft\";\nexport const DRAGGED_OVER_INDEX_EVENT_NAME = \"draggedOverIndex\";\nexport const DRAGGED_LEFT_DOCUMENT_EVENT_NAME = \"draggedLeftDocument\";\nexport function dispatchDraggedElementEnteredContainer(containerEl, indexObj, draggedEl) {\n    containerEl.dispatchEvent(\n        new CustomEvent(DRAGGED_ENTERED_EVENT_NAME, {\n            detail: {indexObj, draggedEl}\n        })\n    );\n}\nexport function dispatchDraggedElementLeftContainer(containerEl, draggedEl) {\n    containerEl.dispatchEvent(\n        new CustomEvent(DRAGGED_LEFT_EVENT_NAME, {\n            detail: {draggedEl}\n        })\n    );\n}\nexport function dispatchDraggedElementIsOverIndex(containerEl, indexObj, draggedEl) {\n    containerEl.dispatchEvent(\n        new CustomEvent(DRAGGED_OVER_INDEX_EVENT_NAME, {\n            detail: {indexObj, draggedEl}\n        })\n    );\n}\nexport function dispatchDraggedLeftDocument(draggedEl) {\n    window.dispatchEvent(\n        new CustomEvent(DRAGGED_LEFT_DOCUMENT_EVENT_NAME, {\n            detail: {draggedEl}\n        })\n    );\n}\n","import {DRAGGED_ENTERED_EVENT_NAME, DRAGGED_LEFT_EVENT_NAME, DRAGGED_OVER_INDEX_EVENT_NAME} from \"./helpers/dispatcher\";\n\nexport const TRIGGERS = {\n    DRAG_STARTED: \"dragStarted\",\n    DRAGGED_ENTERED: DRAGGED_ENTERED_EVENT_NAME,\n    DRAGGED_OVER_INDEX: DRAGGED_OVER_INDEX_EVENT_NAME,\n    DRAGGED_LEFT: DRAGGED_LEFT_EVENT_NAME,\n    DROPPED_INTO_ZONE: \"droppedIntoZone\",\n    DROPPED_INTO_ANOTHER: \"droppedIntoAnother\",\n    DROPPED_OUTSIDE_OF_ANY: \"droppedOutsideOfAny\",\n    DRAG_STOPPED: \"dragStopped\"\n};\nexport const SOURCES = {\n    POINTER: \"pointer\",\n    KEYBOARD: \"keyboard\"\n};\n\nexport const SHADOW_ITEM_MARKER_PROPERTY_NAME = \"isDndShadowItem\";\nexport let ITEM_ID_KEY = \"id\";\nlet activeDndZoneCount = 0;\nexport function incrementActiveDropZoneCount() {\n    activeDndZoneCount++;\n}\nexport function decrementActiveDropZoneCount() {\n    if (activeDndZoneCount === 0) {\n        throw new Error(\"Bug! trying to decrement when there are no dropzones\");\n    }\n    activeDndZoneCount--;\n}\n\n/**\n * Allows using another key instead of \"id\" in the items data. This is global and applies to all dndzones.\n * Has to be called when there are no rendered dndzones whatsoever.\n * @param {String} newKeyName\n * @throws {Error} if it was called when there are rendered dndzones or if it is given the wrong type (not a string)\n */\nexport function overrideItemIdKeyNameBeforeInitialisingDndZones(newKeyName) {\n    if (activeDndZoneCount > 0) {\n        throw new Error(\"can only override the id key before initialising any dndzone\");\n    }\n    if (typeof newKeyName !== \"string\") {\n        throw new Error(\"item id key has to be a string\");\n    }\n    printDebug(() => [\"overriding item id key name\", newKeyName]);\n    ITEM_ID_KEY = newKeyName;\n}\n\nexport const isOnServer = typeof window === \"undefined\";\n\nexport let printDebug = () => {};\n\n/**\n * Allows the user to show/hide console debug output\n * * @param {Boolean} isDebug\n */\nexport function setDebugMode(isDebug) {\n    if (isDebug) {\n        printDebug = (generateMessage, logFunction = console.debug) => {\n            const message = generateMessage();\n            if (Array.isArray(message)) {\n                logFunction(...message);\n            } else {\n                logFunction(message);\n            }\n        };\n    } else {\n        printDebug = () => {};\n    }\n}\n","// This is based off https://stackoverflow.com/questions/27745438/how-to-compute-getboundingclientrect-without-considering-transforms/57876601#57876601\n// It removes the transforms that are potentially applied by the flip animations\nfunction adjustedBoundingRect(el) {\n    let ta;\n    const rect = el.getBoundingClientRect();\n    const style = getComputedStyle(el);\n    const tx = style.transform;\n\n    if (tx) {\n        let sx, sy, dx, dy;\n        if (tx.startsWith(\"matrix3d(\")) {\n            ta = tx.slice(9, -1).split(/, /);\n            sx = +ta[0];\n            sy = +ta[5];\n            dx = +ta[12];\n            dy = +ta[13];\n        } else if (tx.startsWith(\"matrix(\")) {\n            ta = tx.slice(7, -1).split(/, /);\n            sx = +ta[0];\n            sy = +ta[3];\n            dx = +ta[4];\n            dy = +ta[5];\n        } else {\n            return rect;\n        }\n\n        const to = style.transformOrigin;\n        const x = rect.x - dx - (1 - sx) * parseFloat(to);\n        const y = rect.y - dy - (1 - sy) * parseFloat(to.slice(to.indexOf(\" \") + 1));\n        const w = sx ? rect.width / sx : el.offsetWidth;\n        const h = sy ? rect.height / sy : el.offsetHeight;\n        return {\n            x: x,\n            y: y,\n            width: w,\n            height: h,\n            top: y,\n            right: x + w,\n            bottom: y + h,\n            left: x\n        };\n    } else {\n        return rect;\n    }\n}\n\n/**\n * Gets the absolute bounding rect (accounts for the window's scroll position and removes transforms)\n * @param {HTMLElement} el\n * @return {{top: number, left: number, bottom: number, right: number}}\n */\nfunction getAbsoluteRectNoTransforms(el) {\n    const rect = adjustedBoundingRect(el);\n    return {\n        top: rect.top + window.scrollY,\n        bottom: rect.bottom + window.scrollY,\n        left: rect.left + window.scrollX,\n        right: rect.right + window.scrollX\n    };\n}\n\n/**\n * Gets the absolute bounding rect (accounts for the window's scroll position)\n * @param {HTMLElement} el\n * @return {{top: number, left: number, bottom: number, right: number}}\n */\nexport function getAbsoluteRect(el) {\n    const rect = el.getBoundingClientRect();\n    return {\n        top: rect.top + window.scrollY,\n        bottom: rect.bottom + window.scrollY,\n        left: rect.left + window.scrollX,\n        right: rect.right + window.scrollX\n    };\n}\n\n/**\n * finds the center :)\n * @typedef {Object} Rect\n * @property {number} top\n * @property {number} bottom\n * @property {number} left\n * @property {number} right\n * @param {Rect} rect\n * @return {{x: number, y: number}}\n */\nexport function findCenter(rect) {\n    return {\n        x: (rect.left + rect.right) / 2,\n        y: (rect.top + rect.bottom) / 2\n    };\n}\n\n/**\n * @typedef {Object} Point\n * @property {number} x\n * @property {number} y\n * @param {Point} pointA\n * @param {Point} pointB\n * @return {number}\n */\nfunction calcDistance(pointA, pointB) {\n    return Math.sqrt(Math.pow(pointA.x - pointB.x, 2) + Math.pow(pointA.y - pointB.y, 2));\n}\n\n/**\n * @param {Point} point\n * @param {Rect} rect\n * @return {boolean|boolean}\n */\nfunction isPointInsideRect(point, rect) {\n    return point.y <= rect.bottom && point.y >= rect.top && point.x >= rect.left && point.x <= rect.right;\n}\n\n/**\n * find the absolute coordinates of the center of a dom element\n * @param el {HTMLElement}\n * @returns {{x: number, y: number}}\n */\nexport function findCenterOfElement(el) {\n    return findCenter(getAbsoluteRect(el));\n}\n\n/**\n * @param {HTMLElement} elA\n * @param {HTMLElement} elB\n * @return {boolean}\n */\nexport function isCenterOfAInsideB(elA, elB) {\n    const centerOfA = findCenterOfElement(elA);\n    const rectOfB = getAbsoluteRectNoTransforms(elB);\n    return isPointInsideRect(centerOfA, rectOfB);\n}\n\n/**\n * @param {HTMLElement|ChildNode} elA\n * @param {HTMLElement|ChildNode} elB\n * @return {number}\n */\nexport function calcDistanceBetweenCenters(elA, elB) {\n    const centerOfA = findCenterOfElement(elA);\n    const centerOfB = findCenterOfElement(elB);\n    return calcDistance(centerOfA, centerOfB);\n}\n\n/**\n * @param {HTMLElement} el - the element to check\n * @returns {boolean} - true if the element in its entirety is off screen including the scrollable area (the normal dom events look at the mouse rather than the element)\n */\nexport function isElementOffDocument(el) {\n    const rect = getAbsoluteRect(el);\n    return rect.right < 0 || rect.left > document.documentElement.scrollWidth || rect.bottom < 0 || rect.top > document.documentElement.scrollHeight;\n}\n\n/**\n * If the point is inside the element returns its distances from the sides, otherwise returns null\n * @param {Point} point\n * @param {HTMLElement} el\n * @return {null|{top: number, left: number, bottom: number, right: number}}\n */\nexport function calcInnerDistancesBetweenPointAndSidesOfElement(point, el) {\n    const rect = getAbsoluteRect(el);\n    if (!isPointInsideRect(point, rect)) {\n        return null;\n    }\n    return {\n        top: point.y - rect.top,\n        bottom: rect.bottom - point.y,\n        left: point.x - rect.left,\n        // TODO - figure out what is so special about right (why the rect is too big)\n        right: Math.min(rect.right, document.documentElement.clientWidth) - point.x\n    };\n}\n","import {isCenterOfAInsideB, calcDistanceBetweenCenters} from \"./intersection\";\n\n/**\n * @typedef {Object} Index\n * @property {number} index - the would be index\n * @property {boolean} isProximityBased - false if the element is actually over the index, true if it is not over it but this index is the closest\n */\n/**\n * Find the index for the dragged element in the list it is dragged over\n * @param {HTMLElement} floatingAboveEl\n * @param {HTMLElement} collectionBelowEl\n * @returns {Index|null} -  if the element is over the container the Index object otherwise null\n */\nexport function findWouldBeIndex(floatingAboveEl, collectionBelowEl) {\n    if (!isCenterOfAInsideB(floatingAboveEl, collectionBelowEl)) {\n        return null;\n    }\n    const children = collectionBelowEl.children;\n    // the container is empty, floating element should be the first\n    if (children.length === 0) {\n        return {index: 0, isProximityBased: true};\n    }\n    // the search could be more efficient but keeping it simple for now\n    // a possible improvement: pass in the lastIndex it was found in and check there first, then expand from there\n    for (let i = 0; i < children.length; i++) {\n        if (isCenterOfAInsideB(floatingAboveEl, children[i])) {\n            return {index: i, isProximityBased: false};\n        }\n    }\n    // this can happen if there is space around the children so the floating element has\n    //entered the container but not any of the children, in this case we will find the nearest child\n    let minDistanceSoFar = Number.MAX_VALUE;\n    let indexOfMin = undefined;\n    // we are checking all of them because we don't know whether we are dealing with a horizontal or vertical container and where the floating element entered from\n    for (let i = 0; i < children.length; i++) {\n        const distance = calcDistanceBetweenCenters(floatingAboveEl, children[i]);\n        if (distance < minDistanceSoFar) {\n            minDistanceSoFar = distance;\n            indexOfMin = i;\n        }\n    }\n    return {index: indexOfMin, isProximityBased: true};\n}\n","import {calcInnerDistancesBetweenPointAndSidesOfElement} from \"./intersection\";\nconst SCROLL_ZONE_PX = 25;\n\nexport function makeScroller() {\n    let scrollingInfo;\n    function resetScrolling() {\n        scrollingInfo = {directionObj: undefined, stepPx: 0};\n    }\n    resetScrolling();\n    // directionObj {x: 0|1|-1, y:0|1|-1} - 1 means down in y and right in x\n    function scrollContainer(containerEl) {\n        const {directionObj, stepPx} = scrollingInfo;\n        if (directionObj) {\n            containerEl.scrollBy(directionObj.x * stepPx, directionObj.y * stepPx);\n            window.requestAnimationFrame(() => scrollContainer(containerEl));\n        }\n    }\n    function calcScrollStepPx(distancePx) {\n        return SCROLL_ZONE_PX - distancePx;\n    }\n\n    /**\n     * If the pointer is next to the sides of the element to scroll, will trigger scrolling\n     * Can be called repeatedly with updated pointer and elementToScroll values without issues\n     * @return {boolean} - true if scrolling was needed\n     */\n    function scrollIfNeeded(pointer, elementToScroll) {\n        if (!elementToScroll) {\n            return false;\n        }\n        const distances = calcInnerDistancesBetweenPointAndSidesOfElement(pointer, elementToScroll);\n        if (distances === null) {\n            resetScrolling();\n            return false;\n        }\n        const isAlreadyScrolling = !!scrollingInfo.directionObj;\n        let [scrollingVertically, scrollingHorizontally] = [false, false];\n        // vertical\n        if (elementToScroll.scrollHeight > elementToScroll.clientHeight) {\n            if (distances.bottom < SCROLL_ZONE_PX) {\n                scrollingVertically = true;\n                scrollingInfo.directionObj = {x: 0, y: 1};\n                scrollingInfo.stepPx = calcScrollStepPx(distances.bottom);\n            } else if (distances.top < SCROLL_ZONE_PX) {\n                scrollingVertically = true;\n                scrollingInfo.directionObj = {x: 0, y: -1};\n                scrollingInfo.stepPx = calcScrollStepPx(distances.top);\n            }\n            if (!isAlreadyScrolling && scrollingVertically) {\n                scrollContainer(elementToScroll);\n                return true;\n            }\n        }\n        // horizontal\n        if (elementToScroll.scrollWidth > elementToScroll.clientWidth) {\n            if (distances.right < SCROLL_ZONE_PX) {\n                scrollingHorizontally = true;\n                scrollingInfo.directionObj = {x: 1, y: 0};\n                scrollingInfo.stepPx = calcScrollStepPx(distances.right);\n            } else if (distances.left < SCROLL_ZONE_PX) {\n                scrollingHorizontally = true;\n                scrollingInfo.directionObj = {x: -1, y: 0};\n                scrollingInfo.stepPx = calcScrollStepPx(distances.left);\n            }\n            if (!isAlreadyScrolling && scrollingHorizontally) {\n                scrollContainer(elementToScroll);\n                return true;\n            }\n        }\n        resetScrolling();\n        return false;\n    }\n\n    return {\n        scrollIfNeeded,\n        resetScrolling\n    };\n}\n","/**\n * @param {Object} object\n * @return {string}\n */\nexport function toString(object) {\n    return JSON.stringify(object, null, 2);\n}\n\n/**\n * Finds the depth of the given node in the DOM tree\n * @param {HTMLElement} node\n * @return {number} - the depth of the node\n */\nexport function getDepth(node) {\n    if (!node) {\n        throw new Error(\"cannot get depth of a falsy node\");\n    }\n    return _getDepth(node, 0);\n}\nfunction _getDepth(node, countSoFar = 0) {\n    if (!node.parentElement) {\n        return countSoFar - 1;\n    }\n    return _getDepth(node.parentElement, countSoFar + 1);\n}\n\n/**\n * A simple util to shallow compare objects quickly, it doesn't validate the arguments so pass objects in\n * @param {Object} objA\n * @param {Object} objB\n * @return {boolean} - true if objA and objB are shallow equal\n */\nexport function areObjectsShallowEqual(objA, objB) {\n    if (Object.keys(objA).length !== Object.keys(objB).length) {\n        return false;\n    }\n    for (const keyA in objA) {\n        if (!{}.hasOwnProperty.call(objB, keyA) || objB[keyA] !== objA[keyA]) {\n            return false;\n        }\n    }\n    return true;\n}\n","import {findWouldBeIndex} from \"./listUtil\";\nimport {findCenterOfElement, isElementOffDocument} from \"./intersection\";\nimport {\n    dispatchDraggedElementEnteredContainer,\n    dispatchDraggedElementLeftContainer,\n    dispatchDraggedLeftDocument,\n    dispatchDraggedElementIsOverIndex\n} from \"./dispatcher\";\nimport {makeScroller} from \"./scroller\";\nimport {getDepth} from \"./util\";\nimport {printDebug} from \"../constants\";\n\nconst INTERVAL_MS = 200;\nconst TOLERANCE_PX = 10;\nconst {scrollIfNeeded, resetScrolling} = makeScroller();\nlet next;\n\n/**\n * Tracks the dragged elements and performs the side effects when it is dragged over a drop zone (basically dispatching custom-events scrolling)\n * @param {Set<HTMLElement>} dropZones\n * @param {HTMLElement} draggedEl\n * @param {number} [intervalMs = INTERVAL_MS]\n */\nexport function observe(draggedEl, dropZones, intervalMs = INTERVAL_MS) {\n    // initialization\n    let lastDropZoneFound;\n    let lastIndexFound;\n    let lastIsDraggedInADropZone = false;\n    let lastCentrePositionOfDragged;\n    // We are sorting to make sure that in case of nested zones of the same type the one \"on top\" is considered first\n    const dropZonesFromDeepToShallow = Array.from(dropZones).sort((dz1, dz2) => getDepth(dz2) - getDepth(dz1));\n\n    /**\n     * The main function in this module. Tracks where everything is/ should be a take the actions\n     */\n    function andNow() {\n        const currentCenterOfDragged = findCenterOfElement(draggedEl);\n        const scrolled = scrollIfNeeded(currentCenterOfDragged, lastDropZoneFound);\n        // we only want to make a new decision after the element was moved a bit to prevent flickering\n        if (\n            !scrolled &&\n            lastCentrePositionOfDragged &&\n            Math.abs(lastCentrePositionOfDragged.x - currentCenterOfDragged.x) < TOLERANCE_PX &&\n            Math.abs(lastCentrePositionOfDragged.y - currentCenterOfDragged.y) < TOLERANCE_PX\n        ) {\n            next = window.setTimeout(andNow, intervalMs);\n            return;\n        }\n        if (isElementOffDocument(draggedEl)) {\n            printDebug(() => \"off document\");\n            dispatchDraggedLeftDocument(draggedEl);\n            return;\n        }\n\n        lastCentrePositionOfDragged = currentCenterOfDragged;\n        // this is a simple algorithm, potential improvement: first look at lastDropZoneFound\n        let isDraggedInADropZone = false;\n        for (const dz of dropZonesFromDeepToShallow) {\n            const indexObj = findWouldBeIndex(draggedEl, dz);\n            if (indexObj === null) {\n                // it is not inside\n                continue;\n            }\n            const {index} = indexObj;\n            isDraggedInADropZone = true;\n            // the element is over a container\n            if (dz !== lastDropZoneFound) {\n                lastDropZoneFound && dispatchDraggedElementLeftContainer(lastDropZoneFound, draggedEl);\n                dispatchDraggedElementEnteredContainer(dz, indexObj, draggedEl);\n                lastDropZoneFound = dz;\n                lastIndexFound = index;\n            } else if (index !== lastIndexFound) {\n                dispatchDraggedElementIsOverIndex(dz, indexObj, draggedEl);\n                lastIndexFound = index;\n            }\n            // we handle looping with the 'continue' statement above\n            break;\n        }\n        // the first time the dragged element is not in any dropzone we need to notify the last dropzone it was in\n        if (!isDraggedInADropZone && lastIsDraggedInADropZone && lastDropZoneFound) {\n            dispatchDraggedElementLeftContainer(lastDropZoneFound, draggedEl);\n            lastDropZoneFound = undefined;\n            lastIndexFound = undefined;\n            lastIsDraggedInADropZone = false;\n        } else {\n            lastIsDraggedInADropZone = true;\n        }\n        next = window.setTimeout(andNow, intervalMs);\n    }\n    andNow();\n}\n\n// assumption - we can only observe one dragged element at a time, this could be changed in the future\nexport function unobserve() {\n    printDebug(() => \"unobserving\");\n    clearTimeout(next);\n    resetScrolling();\n}\n","import {makeScroller} from \"./scroller\";\nimport {printDebug} from \"../constants\";\n\nconst INTERVAL_MS = 300;\nlet mousePosition;\n\n/**\n * Do not use this! it is visible for testing only until we get over the issue Cypress not triggering the mousemove listeners\n * // TODO - make private (remove export)\n * @param {{clientX: number, clientY: number}} e\n */\nexport function updateMousePosition(e) {\n    const c = e.touches ? e.touches[0] : e;\n    mousePosition = {x: c.clientX, y: c.clientY};\n}\nconst {scrollIfNeeded, resetScrolling} = makeScroller();\nlet next;\n\nfunction loop() {\n    if (mousePosition) {\n        scrollIfNeeded(mousePosition, document.documentElement);\n    }\n    next = window.setTimeout(loop, INTERVAL_MS);\n}\n\n/**\n * will start watching the mouse pointer and scroll the window if it goes next to the edges\n */\nexport function armWindowScroller() {\n    printDebug(() => \"arming window scroller\");\n    window.addEventListener(\"mousemove\", updateMousePosition);\n    window.addEventListener(\"touchmove\", updateMousePosition);\n    loop();\n}\n\n/**\n * will stop watching the mouse pointer and won't scroll the window anymore\n */\nexport function disarmWindowScroller() {\n    printDebug(() => \"disarming window scroller\");\n    window.removeEventListener(\"mousemove\", updateMousePosition);\n    window.removeEventListener(\"touchmove\", updateMousePosition);\n    mousePosition = undefined;\n    window.clearTimeout(next);\n    resetScrolling();\n}\n","const TRANSITION_DURATION_SECONDS = 0.2;\n\n/**\n * private helper function - creates a transition string for a property\n * @param {string} property\n * @return {string} - the transition string\n */\nfunction trs(property) {\n    return `${property} ${TRANSITION_DURATION_SECONDS}s ease`;\n}\n/**\n * clones the given element and applies proper styles and transitions to the dragged element\n * @param {HTMLElement} originalElement\n * @return {Node} - the cloned, styled element\n */\nexport function createDraggedElementFrom(originalElement) {\n    const rect = originalElement.getBoundingClientRect();\n    const draggedEl = originalElement.cloneNode(true);\n    copyStylesFromTo(originalElement, draggedEl);\n    draggedEl.id = `dnd-action-dragged-el`;\n    draggedEl.style.position = \"fixed\";\n    draggedEl.style.top = `${rect.top}px`;\n    draggedEl.style.left = `${rect.left}px`;\n    draggedEl.style.margin = \"0\";\n    // we can't have relative or automatic height and width or it will break the illusion\n    draggedEl.style.boxSizing = \"border-box\";\n    draggedEl.style.height = `${rect.height}px`;\n    draggedEl.style.width = `${rect.width}px`;\n    draggedEl.style.transition = `${trs(\"width\")}, ${trs(\"height\")}, ${trs(\"background-color\")}, ${trs(\"opacity\")}, ${trs(\"color\")} `;\n    // this is a workaround for a strange browser bug that causes the right border to disappear when all the transitions are added at the same time\n    window.setTimeout(() => (draggedEl.style.transition += `, ${trs(\"top\")}, ${trs(\"left\")}`), 0);\n    draggedEl.style.zIndex = \"9999\";\n    draggedEl.style.cursor = \"grabbing\";\n\n    return draggedEl;\n}\n\n/**\n * styles the dragged element to a 'dropped' state\n * @param {HTMLElement} draggedEl\n */\nexport function moveDraggedElementToWasDroppedState(draggedEl) {\n    draggedEl.style.cursor = \"grab\";\n}\n\n/**\n * Morphs the dragged element style, maintains the mouse pointer within the element\n * @param {HTMLElement} draggedEl\n * @param {HTMLElement} copyFromEl - the element the dragged element should look like, typically the shadow element\n * @param {number} currentMouseX\n * @param {number} currentMouseY\n * @param {function} transformDraggedElement - function to transform the dragged element, does nothing by default.\n */\nexport function morphDraggedElementToBeLike(draggedEl, copyFromEl, currentMouseX, currentMouseY, transformDraggedElement) {\n    const newRect = copyFromEl.getBoundingClientRect();\n    const draggedElRect = draggedEl.getBoundingClientRect();\n    const widthChange = newRect.width - draggedElRect.width;\n    const heightChange = newRect.height - draggedElRect.height;\n    if (widthChange || heightChange) {\n        const relativeDistanceOfMousePointerFromDraggedSides = {\n            left: (currentMouseX - draggedElRect.left) / draggedElRect.width,\n            top: (currentMouseY - draggedElRect.top) / draggedElRect.height\n        };\n        draggedEl.style.height = `${newRect.height}px`;\n        draggedEl.style.width = `${newRect.width}px`;\n        draggedEl.style.left = `${parseFloat(draggedEl.style.left) - relativeDistanceOfMousePointerFromDraggedSides.left * widthChange}px`;\n        draggedEl.style.top = `${parseFloat(draggedEl.style.top) - relativeDistanceOfMousePointerFromDraggedSides.top * heightChange}px`;\n    }\n\n    /// other properties\n    copyStylesFromTo(copyFromEl, draggedEl);\n    transformDraggedElement();\n}\n\n/**\n *\n * @param {HTMLElement} copyFromEl\n * @param {HTMLElement} copyToEl\n */\nfunction copyStylesFromTo(copyFromEl, copyToEl) {\n    const computedStyle = window.getComputedStyle(copyFromEl);\n    Array.from(computedStyle)\n        .filter(\n            s =>\n                s.startsWith(\"background\") ||\n                s.startsWith(\"padding\") ||\n                s.startsWith(\"font\") ||\n                s.startsWith(\"text\") ||\n                s.startsWith(\"align\") ||\n                s.startsWith(\"justify\") ||\n                s.startsWith(\"display\") ||\n                s.startsWith(\"flex\") ||\n                s.startsWith(\"border\") ||\n                s === \"opacity\" ||\n                s === \"color\" ||\n                s === \"list-style-type\"\n        )\n        .forEach(s => copyToEl.style.setProperty(s, computedStyle.getPropertyValue(s), computedStyle.getPropertyPriority(s)));\n}\n\n/**\n * makes the element compatible with being draggable\n * @param {HTMLElement} draggableEl\n * @param {boolean} dragDisabled\n */\nexport function styleDraggable(draggableEl, dragDisabled) {\n    draggableEl.draggable = false;\n    draggableEl.ondragstart = () => false;\n    if (!dragDisabled) {\n        draggableEl.style.userSelect = \"none\";\n        draggableEl.style.cursor = \"grab\";\n    } else {\n        draggableEl.style.userSelect = \"\";\n        draggableEl.style.cursor = \"\";\n    }\n}\n\n/**\n * Hides the provided element so that it can stay in the dom without interrupting\n * @param {HTMLElement} dragTarget\n */\nexport function hideOriginalDragTarget(dragTarget) {\n    dragTarget.style.display = \"none\";\n    dragTarget.style.position = \"fixed\";\n    dragTarget.style.zIndex = \"-5\";\n}\n\n/**\n * styles the shadow element\n * @param {HTMLElement} shadowEl\n */\nexport function styleShadowEl(shadowEl) {\n    shadowEl.style.visibility = \"hidden\";\n}\n\n/**\n * will mark the given dropzones as visually active\n * @param {Array<HTMLElement>} dropZones\n * @param {Function} getStyles - maps a dropzone to a styles object (so the styles can be removed)\n */\nexport function styleActiveDropZones(dropZones, getStyles = () => {}) {\n    dropZones.forEach(dz => {\n        const styles = getStyles(dz);\n        Object.keys(styles).forEach(style => {\n            dz.style[style] = styles[style];\n        });\n    });\n}\n\n/**\n * will remove the 'active' styling from given dropzones\n * @param {Array<HTMLElement>} dropZones\n * @param {Function} getStyles - maps a dropzone to a styles object\n */\nexport function styleInactiveDropZones(dropZones, getStyles = () => {}) {\n    dropZones.forEach(dz => {\n        const styles = getStyles(dz);\n        Object.keys(styles).forEach(style => {\n            dz.style[style] = \"\";\n        });\n    });\n}\n","import {\n    SHADOW_ITEM_MARKER_PROPERTY_NAME,\n    ITEM_ID_KEY,\n    TRIGGERS,\n    incrementActiveDropZoneCount,\n    decrementActiveDropZoneCount,\n    SOURCES\n} from \"./constants\";\nimport {observe, unobserve} from \"./helpers/observer\";\nimport {armWindowScroller, disarmWindowScroller} from \"./helpers/windowScroller\";\nimport {\n    createDraggedElementFrom,\n    moveDraggedElementToWasDroppedState,\n    morphDraggedElementToBeLike,\n    styleDraggable,\n    styleShadowEl,\n    styleActiveDropZones,\n    styleInactiveDropZones,\n    hideOriginalDragTarget\n} from \"./helpers/styler\";\nimport {\n    DRAGGED_ENTERED_EVENT_NAME,\n    DRAGGED_LEFT_EVENT_NAME,\n    DRAGGED_LEFT_DOCUMENT_EVENT_NAME,\n    DRAGGED_OVER_INDEX_EVENT_NAME,\n    dispatchConsiderEvent,\n    dispatchFinalizeEvent\n} from \"./helpers/dispatcher\";\nimport {areObjectsShallowEqual, toString} from \"./helpers/util\";\nimport {printDebug} from \"./constants\";\n\nconst DEFAULT_DROP_ZONE_TYPE = \"--any--\";\nconst MIN_OBSERVATION_INTERVAL_MS = 100;\nconst MIN_MOVEMENT_BEFORE_DRAG_START_PX = 3;\nconst DEFAULT_DROP_TARGET_STYLE = {\n    outline: \"rgba(255, 255, 102, 0.7) solid 2px\"\n};\n\nlet originalDragTarget;\nlet draggedEl;\nlet draggedElData;\nlet draggedElType;\nlet originDropZone;\nlet originIndex;\nlet shadowElData;\nlet shadowElDropZone;\nlet dragStartMousePosition;\nlet currentMousePosition;\nlet isWorkingOnPreviousDrag = false;\nlet finalizingPreviousDrag = false;\n\n// a map from type to a set of drop-zones\nconst typeToDropZones = new Map();\n// important - this is needed because otherwise the config that would be used for everyone is the config of the element that created the event listeners\nconst dzToConfig = new Map();\n// this is needed in order to be able to cleanup old listeners and avoid stale closures issues (as the listener is defined within each zone)\nconst elToMouseDownListener = new WeakMap();\n\n/* drop-zones registration management */\nfunction registerDropZone(dropZoneEl, type) {\n    printDebug(() => \"registering drop-zone if absent\");\n    if (!typeToDropZones.has(type)) {\n        typeToDropZones.set(type, new Set());\n    }\n    if (!typeToDropZones.get(type).has(dropZoneEl)) {\n        typeToDropZones.get(type).add(dropZoneEl);\n        incrementActiveDropZoneCount();\n    }\n}\nfunction unregisterDropZone(dropZoneEl, type) {\n    typeToDropZones.get(type).delete(dropZoneEl);\n    decrementActiveDropZoneCount();\n    if (typeToDropZones.get(type).size === 0) {\n        typeToDropZones.delete(type);\n    }\n}\n\n/* functions to manage observing the dragged element and trigger custom drag-events */\nfunction watchDraggedElement() {\n    printDebug(() => \"watching dragged element\");\n    armWindowScroller();\n    const dropZones = typeToDropZones.get(draggedElType);\n    for (const dz of dropZones) {\n        dz.addEventListener(DRAGGED_ENTERED_EVENT_NAME, handleDraggedEntered);\n        dz.addEventListener(DRAGGED_LEFT_EVENT_NAME, handleDraggedLeft);\n        dz.addEventListener(DRAGGED_OVER_INDEX_EVENT_NAME, handleDraggedIsOverIndex);\n    }\n    window.addEventListener(DRAGGED_LEFT_DOCUMENT_EVENT_NAME, handleDrop);\n    // it is important that we don't have an interval that is faster than the flip duration because it can cause elements to jump bach and forth\n    const observationIntervalMs = Math.max(\n        MIN_OBSERVATION_INTERVAL_MS,\n        ...Array.from(dropZones.keys()).map(dz => dzToConfig.get(dz).dropAnimationDurationMs)\n    );\n    observe(draggedEl, dropZones, observationIntervalMs * 1.07);\n}\nfunction unWatchDraggedElement() {\n    printDebug(() => \"unwatching dragged element\");\n    disarmWindowScroller();\n    const dropZones = typeToDropZones.get(draggedElType);\n    for (const dz of dropZones) {\n        dz.removeEventListener(DRAGGED_ENTERED_EVENT_NAME, handleDraggedEntered);\n        dz.removeEventListener(DRAGGED_LEFT_EVENT_NAME, handleDraggedLeft);\n        dz.removeEventListener(DRAGGED_OVER_INDEX_EVENT_NAME, handleDraggedIsOverIndex);\n    }\n    window.removeEventListener(DRAGGED_LEFT_DOCUMENT_EVENT_NAME, handleDrop);\n    unobserve();\n}\n\n/* custom drag-events handlers */\nfunction handleDraggedEntered(e) {\n    printDebug(() => [\"dragged entered\", e.currentTarget, e.detail]);\n    let {items, dropFromOthersDisabled} = dzToConfig.get(e.currentTarget);\n    if (dropFromOthersDisabled && e.currentTarget !== originDropZone) {\n        printDebug(() => \"drop is currently disabled\");\n        return;\n    }\n    // this deals with another race condition. in rare occasions (super rapid operations) the list hasn't updated yet\n    items = items.filter(i => i[ITEM_ID_KEY] !== shadowElData[ITEM_ID_KEY]);\n    printDebug(() => `dragged entered items ${toString(items)}`);\n    const {index, isProximityBased} = e.detail.indexObj;\n    const shadowElIdx = isProximityBased && index === e.currentTarget.children.length - 1 ? index + 1 : index;\n    shadowElDropZone = e.currentTarget;\n    items.splice(shadowElIdx, 0, shadowElData);\n    dispatchConsiderEvent(e.currentTarget, items, {trigger: TRIGGERS.DRAGGED_ENTERED, id: draggedElData[ITEM_ID_KEY], source: SOURCES.POINTER});\n}\nfunction handleDraggedLeft(e) {\n    printDebug(() => [\"dragged left\", e.currentTarget, e.detail]);\n    const {items, dropFromOthersDisabled} = dzToConfig.get(e.currentTarget);\n    if (dropFromOthersDisabled && e.currentTarget !== originDropZone) {\n        printDebug(() => \"drop is currently disabled\");\n        return;\n    }\n    const shadowElIdx = items.findIndex(item => !!item[SHADOW_ITEM_MARKER_PROPERTY_NAME]);\n    items.splice(shadowElIdx, 1);\n    shadowElDropZone = undefined;\n    dispatchConsiderEvent(e.currentTarget, items, {trigger: TRIGGERS.DRAGGED_LEFT, id: draggedElData[ITEM_ID_KEY], source: SOURCES.POINTER});\n}\nfunction handleDraggedIsOverIndex(e) {\n    printDebug(() => [\"dragged is over index\", e.currentTarget, e.detail]);\n    const {items, dropFromOthersDisabled} = dzToConfig.get(e.currentTarget);\n    if (dropFromOthersDisabled && e.currentTarget !== originDropZone) {\n        printDebug(() => \"drop is currently disabled\");\n        return;\n    }\n    const {index} = e.detail.indexObj;\n    const shadowElIdx = items.findIndex(item => !!item[SHADOW_ITEM_MARKER_PROPERTY_NAME]);\n    items.splice(shadowElIdx, 1);\n    items.splice(index, 0, shadowElData);\n    dispatchConsiderEvent(e.currentTarget, items, {trigger: TRIGGERS.DRAGGED_OVER_INDEX, id: draggedElData[ITEM_ID_KEY], source: SOURCES.POINTER});\n}\n\n// Global mouse/touch-events handlers\nfunction handleMouseMove(e) {\n    e.preventDefault();\n    const c = e.touches ? e.touches[0] : e;\n    currentMousePosition = {x: c.clientX, y: c.clientY};\n    draggedEl.style.transform = `translate3d(${currentMousePosition.x - dragStartMousePosition.x}px, ${\n        currentMousePosition.y - dragStartMousePosition.y\n    }px, 0)`;\n}\n\nfunction handleDrop() {\n    printDebug(() => \"dropped\");\n    finalizingPreviousDrag = true;\n    // cleanup\n    window.removeEventListener(\"mousemove\", handleMouseMove);\n    window.removeEventListener(\"touchmove\", handleMouseMove);\n    window.removeEventListener(\"mouseup\", handleDrop);\n    window.removeEventListener(\"touchend\", handleDrop);\n    unWatchDraggedElement();\n    moveDraggedElementToWasDroppedState(draggedEl);\n    let finalizeFunction;\n    if (shadowElDropZone) {\n        // it was dropped in a drop-zone\n        printDebug(() => [\"dropped in dz\", shadowElDropZone]);\n        let {items, type} = dzToConfig.get(shadowElDropZone);\n        styleInactiveDropZones(typeToDropZones.get(type), dz => dzToConfig.get(dz).dropTargetStyle);\n        let shadowElIdx = items.findIndex(item => !!item[SHADOW_ITEM_MARKER_PROPERTY_NAME]);\n        // the handler might remove the shadow element, ex: dragula like copy on drag\n        if (shadowElIdx === -1) shadowElIdx = originIndex;\n        items = items.map(item => (item[SHADOW_ITEM_MARKER_PROPERTY_NAME] ? draggedElData : item));\n        finalizeFunction = function finalizeWithinZone() {\n            dispatchFinalizeEvent(shadowElDropZone, items, {\n                trigger: TRIGGERS.DROPPED_INTO_ZONE,\n                id: draggedElData[ITEM_ID_KEY],\n                source: SOURCES.POINTER\n            });\n            if (shadowElDropZone !== originDropZone) {\n                // letting the origin drop zone know the element was permanently taken away\n                dispatchFinalizeEvent(originDropZone, dzToConfig.get(originDropZone).items, {\n                    trigger: TRIGGERS.DROPPED_INTO_ANOTHER,\n                    id: draggedElData[ITEM_ID_KEY],\n                    source: SOURCES.POINTER\n                });\n            }\n            shadowElDropZone.children[shadowElIdx].style.visibility = \"\";\n            cleanupPostDrop();\n        };\n        animateDraggedToFinalPosition(shadowElIdx, finalizeFunction);\n    } else {\n        // it needs to return to its place\n        printDebug(() => \"no dz available\");\n        let {items, type} = dzToConfig.get(originDropZone);\n        styleInactiveDropZones(typeToDropZones.get(type), dz => dzToConfig.get(dz).dropTargetStyle);\n        items.splice(originIndex, 0, shadowElData);\n        shadowElDropZone = originDropZone;\n        dispatchConsiderEvent(originDropZone, items, {\n            trigger: TRIGGERS.DROPPED_OUTSIDE_OF_ANY,\n            id: draggedElData[ITEM_ID_KEY],\n            source: SOURCES.POINTER\n        });\n        finalizeFunction = function finalizeBackToOrigin() {\n            const finalItems = [...items];\n            finalItems.splice(originIndex, 1, draggedElData);\n            dispatchFinalizeEvent(originDropZone, finalItems, {\n                trigger: TRIGGERS.DROPPED_OUTSIDE_OF_ANY,\n                id: draggedElData[ITEM_ID_KEY],\n                source: SOURCES.POINTER\n            });\n            shadowElDropZone.children[originIndex].style.visibility = \"\";\n            cleanupPostDrop();\n        };\n        window.setTimeout(() => animateDraggedToFinalPosition(originIndex, finalizeFunction), 0);\n    }\n}\n\n// helper function for handleDrop\nfunction animateDraggedToFinalPosition(shadowElIdx, callback) {\n    const shadowElRect = shadowElDropZone.children[shadowElIdx].getBoundingClientRect();\n    const newTransform = {\n        x: shadowElRect.left - parseFloat(draggedEl.style.left),\n        y: shadowElRect.top - parseFloat(draggedEl.style.top)\n    };\n    const {dropAnimationDurationMs} = dzToConfig.get(shadowElDropZone);\n    const transition = `transform ${dropAnimationDurationMs}ms ease`;\n    draggedEl.style.transition = draggedEl.style.transition ? draggedEl.style.transition + \",\" + transition : transition;\n    draggedEl.style.transform = `translate3d(${newTransform.x}px, ${newTransform.y}px, 0)`;\n    window.setTimeout(callback, dropAnimationDurationMs);\n}\n\n/* cleanup */\nfunction cleanupPostDrop() {\n    draggedEl.remove();\n    originalDragTarget.remove();\n    draggedEl = undefined;\n    originalDragTarget = undefined;\n    draggedElData = undefined;\n    draggedElType = undefined;\n    originDropZone = undefined;\n    originIndex = undefined;\n    shadowElData = undefined;\n    shadowElDropZone = undefined;\n    dragStartMousePosition = undefined;\n    currentMousePosition = undefined;\n    isWorkingOnPreviousDrag = false;\n    finalizingPreviousDrag = false;\n}\n\nexport function dndzone(node, options) {\n    const config = {\n        items: undefined,\n        type: undefined,\n        flipDurationMs: 0,\n        dragDisabled: false,\n        dropFromOthersDisabled: false,\n        dropTargetStyle: DEFAULT_DROP_TARGET_STYLE,\n        transformDraggedElement: () => {}\n    };\n    printDebug(() => [`dndzone good to go options: ${toString(options)}, config: ${toString(config)}`, {node}]);\n    let elToIdx = new Map();\n\n    function addMaybeListeners() {\n        window.addEventListener(\"mousemove\", handleMouseMoveMaybeDragStart, {passive: false});\n        window.addEventListener(\"touchmove\", handleMouseMoveMaybeDragStart, {passive: false, capture: false});\n        window.addEventListener(\"mouseup\", handleFalseAlarm, {passive: false});\n        window.addEventListener(\"touchend\", handleFalseAlarm, {passive: false});\n    }\n    function removeMaybeListeners() {\n        window.removeEventListener(\"mousemove\", handleMouseMoveMaybeDragStart);\n        window.removeEventListener(\"touchmove\", handleMouseMoveMaybeDragStart);\n        window.removeEventListener(\"mouseup\", handleFalseAlarm);\n        window.removeEventListener(\"touchend\", handleFalseAlarm);\n    }\n    function handleFalseAlarm() {\n        removeMaybeListeners();\n        originalDragTarget = undefined;\n        dragStartMousePosition = undefined;\n        currentMousePosition = undefined;\n    }\n\n    function handleMouseMoveMaybeDragStart(e) {\n        e.preventDefault();\n        const c = e.touches ? e.touches[0] : e;\n        currentMousePosition = {x: c.clientX, y: c.clientY};\n        if (\n            Math.abs(currentMousePosition.x - dragStartMousePosition.x) >= MIN_MOVEMENT_BEFORE_DRAG_START_PX ||\n            Math.abs(currentMousePosition.y - dragStartMousePosition.y) >= MIN_MOVEMENT_BEFORE_DRAG_START_PX\n        ) {\n            removeMaybeListeners();\n            handleDragStart();\n        }\n    }\n    function handleMouseDown(e) {\n        // prevents responding to any button but left click which equals 0 (which is falsy)\n        if (e.button) {\n            printDebug(() => `ignoring none left click button: ${e.button}`);\n            return;\n        }\n        if (isWorkingOnPreviousDrag) {\n            printDebug(() => \"cannot start a new drag before finalizing previous one\");\n            return;\n        }\n        e.stopPropagation();\n        const c = e.touches ? e.touches[0] : e;\n        dragStartMousePosition = {x: c.clientX, y: c.clientY};\n        currentMousePosition = {...dragStartMousePosition};\n        originalDragTarget = e.currentTarget;\n        addMaybeListeners();\n    }\n\n    function handleDragStart() {\n        printDebug(() => [`drag start config: ${toString(config)}`, originalDragTarget]);\n        isWorkingOnPreviousDrag = true;\n\n        // initialising globals\n        const currentIdx = elToIdx.get(originalDragTarget);\n        originIndex = currentIdx;\n        originDropZone = originalDragTarget.parentElement;\n        const {items, type} = config;\n        draggedElData = {...items[currentIdx]};\n        draggedElType = type;\n        shadowElData = {...draggedElData, [SHADOW_ITEM_MARKER_PROPERTY_NAME]: true};\n\n        // creating the draggable element\n        draggedEl = createDraggedElementFrom(originalDragTarget);\n        // We will keep the original dom node in the dom because touch events keep firing on it, we want to re-add it after the framework removes it\n        function keepOriginalElementInDom() {\n            const {items: itemsNow} = config;\n            if (!draggedEl.parentElement && (!itemsNow[originIndex] || draggedElData[ITEM_ID_KEY] !== itemsNow[originIndex][ITEM_ID_KEY])) {\n                document.body.appendChild(draggedEl);\n                // to prevent the outline from disappearing\n                draggedEl.focus();\n                watchDraggedElement();\n                hideOriginalDragTarget(originalDragTarget);\n                document.body.appendChild(originalDragTarget);\n            } else {\n                window.requestAnimationFrame(keepOriginalElementInDom);\n            }\n        }\n        window.requestAnimationFrame(keepOriginalElementInDom);\n\n        styleActiveDropZones(\n            Array.from(typeToDropZones.get(config.type)).filter(dz => dz === originDropZone || !dzToConfig.get(dz).dropFromOthersDisabled),\n            dz => dzToConfig.get(dz).dropTargetStyle\n        );\n\n        // removing the original element by removing its data entry\n        items.splice(currentIdx, 1);\n        dispatchConsiderEvent(originDropZone, items, {trigger: TRIGGERS.DRAG_STARTED, id: draggedElData[ITEM_ID_KEY], source: SOURCES.POINTER});\n\n        // handing over to global handlers - starting to watch the element\n        window.addEventListener(\"mousemove\", handleMouseMove, {passive: false});\n        window.addEventListener(\"touchmove\", handleMouseMove, {passive: false, capture: false});\n        window.addEventListener(\"mouseup\", handleDrop, {passive: false});\n        window.addEventListener(\"touchend\", handleDrop, {passive: false});\n    }\n\n    function configure({\n        items = undefined,\n        flipDurationMs: dropAnimationDurationMs = 0,\n        type: newType = DEFAULT_DROP_ZONE_TYPE,\n        dragDisabled = false,\n        dropFromOthersDisabled = false,\n        dropTargetStyle = DEFAULT_DROP_TARGET_STYLE,\n        transformDraggedElement = () => {}\n    }) {\n        config.dropAnimationDurationMs = dropAnimationDurationMs;\n        if (config.type && newType !== config.type) {\n            unregisterDropZone(node, config.type);\n        }\n        config.type = newType;\n        registerDropZone(node, newType);\n\n        config.items = [...items];\n        config.dragDisabled = dragDisabled;\n        config.transformDraggedElement = transformDraggedElement;\n\n        // realtime update for dropTargetStyle\n        if (isWorkingOnPreviousDrag && !finalizingPreviousDrag && !areObjectsShallowEqual(dropTargetStyle, config.dropTargetStyle)) {\n            styleInactiveDropZones([node], () => config.dropTargetStyle);\n            styleActiveDropZones([node], () => dropTargetStyle);\n        }\n        config.dropTargetStyle = dropTargetStyle;\n\n        // realtime update for dropFromOthersDisabled\n        if (isWorkingOnPreviousDrag && config.dropFromOthersDisabled !== dropFromOthersDisabled) {\n            if (dropFromOthersDisabled) {\n                styleInactiveDropZones([node], dz => dzToConfig.get(dz).dropTargetStyle);\n            } else {\n                styleActiveDropZones([node], dz => dzToConfig.get(dz).dropTargetStyle);\n            }\n        }\n        config.dropFromOthersDisabled = dropFromOthersDisabled;\n\n        dzToConfig.set(node, config);\n        for (let idx = 0; idx < node.children.length; idx++) {\n            const draggableEl = node.children[idx];\n            styleDraggable(draggableEl, dragDisabled);\n            if (config.items[idx][SHADOW_ITEM_MARKER_PROPERTY_NAME]) {\n                morphDraggedElementToBeLike(draggedEl, draggableEl, currentMousePosition.x, currentMousePosition.y, () =>\n                    config.transformDraggedElement(draggedEl, draggedElData, idx)\n                );\n                styleShadowEl(draggableEl);\n                continue;\n            }\n            draggableEl.removeEventListener(\"mousedown\", elToMouseDownListener.get(draggableEl));\n            draggableEl.removeEventListener(\"touchstart\", elToMouseDownListener.get(draggableEl));\n            if (!dragDisabled) {\n                draggableEl.addEventListener(\"mousedown\", handleMouseDown);\n                draggableEl.addEventListener(\"touchstart\", handleMouseDown);\n                elToMouseDownListener.set(draggableEl, handleMouseDown);\n            }\n            // updating the idx\n            elToIdx.set(draggableEl, idx);\n        }\n    }\n    configure(options);\n\n    return {\n        update: newOptions => {\n            printDebug(() => `pointer dndzone will update newOptions: ${toString(newOptions)}`);\n            configure(newOptions);\n        },\n        destroy: () => {\n            printDebug(() => \"pointer dndzone will destroy\");\n            unregisterDropZone(node, config.type);\n            dzToConfig.delete(node);\n        }\n    };\n}\n","import {isOnServer} from \"../constants\";\n\nconst INSTRUCTION_IDs = {\n    DND_ZONE_ACTIVE: \"dnd-zone-active\",\n    DND_ZONE_DRAG_DISABLED: \"dnd-zone-drag-disabled\"\n};\nconst ID_TO_INSTRUCTION = {\n    [INSTRUCTION_IDs.DND_ZONE_ACTIVE]: \"Tab to one the items and press space-bar or enter to start dragging it\",\n    [INSTRUCTION_IDs.DND_ZONE_DRAG_DISABLED]: \"This is a disabled drag and drop list\"\n};\n\nconst ALERT_DIV_ID = \"dnd-action-aria-alert\";\nlet alertsDiv;\n/**\n * Initializes the static aria instructions so they can be attached to zones\n * @return {{DND_ZONE_ACTIVE: string, DND_ZONE_DRAG_DISABLED: string} | null} - the IDs for static aria instruction (to be used via aria-describedby) or null on the server\n */\nexport function initAria() {\n    if (isOnServer) return null;\n\n    // setting the dynamic alerts\n    alertsDiv = document.createElement(\"div\");\n    (function initAlertsDiv() {\n        alertsDiv.id = ALERT_DIV_ID;\n        // tab index -1 makes the alert be read twice on chrome for some reason\n        //alertsDiv.tabIndex = -1;\n        alertsDiv.style.position = \"fixed\";\n        alertsDiv.style.bottom = \"0\";\n        alertsDiv.style.left = \"0\";\n        alertsDiv.style.zIndex = \"-5\";\n        alertsDiv.style.opacity = \"0\";\n        alertsDiv.style.height = \"0\";\n        alertsDiv.style.width = \"0\";\n        alertsDiv.setAttribute(\"role\", \"alert\");\n    })();\n    document.body.prepend(alertsDiv);\n\n    // setting the instructions\n    Object.entries(ID_TO_INSTRUCTION).forEach(([id, txt]) => document.body.prepend(instructionToHiddenDiv(id, txt)));\n    return {...INSTRUCTION_IDs};\n}\nfunction instructionToHiddenDiv(id, txt) {\n    const div = document.createElement(\"div\");\n    div.id = id;\n    div.innerHTML = `<p>${txt}</p>`;\n    div.style.display = \"none\";\n    div.style.position = \"fixed\";\n    div.style.zIndex = \"-5\";\n    return div;\n}\n\n/**\n * Will make the screen reader alert the provided text to the user\n * @param {string} txt\n */\nexport function alertToScreenReader(txt) {\n    alertsDiv.innerHTML = \"\";\n    const alertText = document.createTextNode(txt);\n    alertsDiv.appendChild(alertText);\n    // this is needed for Safari\n    alertsDiv.style.display = \"none\";\n    alertsDiv.style.display = \"inline\";\n}\n","import {decrementActiveDropZoneCount, incrementActiveDropZoneCount, ITEM_ID_KEY, SOURCES, TRIGGERS} from \"./constants\";\nimport {styleActiveDropZones, styleInactiveDropZones} from \"./helpers/styler\";\nimport {dispatchConsiderEvent, dispatchFinalizeEvent} from \"./helpers/dispatcher\";\nimport {initAria, alertToScreenReader} from \"./helpers/aria\";\nimport {toString} from \"./helpers/util\";\nimport {printDebug} from \"./constants\";\n\nconst DEFAULT_DROP_ZONE_TYPE = \"--any--\";\nconst DEFAULT_DROP_TARGET_STYLE = {\n    outline: \"rgba(255, 255, 102, 0.7) solid 2px\"\n};\n\nlet isDragging = false;\nlet draggedItemType;\nlet focusedDz;\nlet focusedDzLabel = \"\";\nlet focusedItem;\nlet focusedItemId;\nlet focusedItemLabel = \"\";\nconst allDragTargets = new WeakSet();\nconst elToKeyDownListeners = new WeakMap();\nconst elToFocusListeners = new WeakMap();\nconst dzToHandles = new Map();\nconst dzToConfig = new Map();\nconst typeToDropZones = new Map();\n\n/* TODO (potentially)\n * what's the deal with the black border of voice-reader not following focus?\n * maybe keep focus on the last dragged item upon drop?\n */\n\nconst INSTRUCTION_IDs = initAria();\n\n/* drop-zones registration management */\nfunction registerDropZone(dropZoneEl, type) {\n    printDebug(() => \"registering drop-zone if absent\");\n    if (typeToDropZones.size === 0) {\n        printDebug(() => \"adding global keydown and click handlers\");\n        window.addEventListener(\"keydown\", globalKeyDownHandler);\n        window.addEventListener(\"click\", globalClickHandler);\n    }\n    if (!typeToDropZones.has(type)) {\n        typeToDropZones.set(type, new Set());\n    }\n    if (!typeToDropZones.get(type).has(dropZoneEl)) {\n        typeToDropZones.get(type).add(dropZoneEl);\n        incrementActiveDropZoneCount();\n    }\n}\nfunction unregisterDropZone(dropZoneEl, type) {\n    printDebug(() => \"unregistering drop-zone\");\n    typeToDropZones.get(type).delete(dropZoneEl);\n    decrementActiveDropZoneCount();\n    if (typeToDropZones.get(type).size === 0) {\n        typeToDropZones.delete(type);\n    }\n    if (typeToDropZones.size === 0) {\n        printDebug(() => \"removing global keydown and click handlers\");\n        window.removeEventListener(\"keydown\", globalKeyDownHandler);\n        window.removeEventListener(\"click\", globalClickHandler);\n    }\n}\n\nfunction globalKeyDownHandler(e) {\n    if (!isDragging) return;\n    switch (e.key) {\n        case \"Escape\": {\n            handleDrop();\n            break;\n        }\n    }\n}\n\nfunction globalClickHandler() {\n    if (!isDragging) return;\n    if (!allDragTargets.has(document.activeElement)) {\n        printDebug(() => \"clicked outside of any draggable\");\n        handleDrop();\n    }\n}\n\nfunction handleZoneFocus(e) {\n    printDebug(() => \"zone focus\");\n    if (!isDragging) return;\n    const newlyFocusedDz = e.currentTarget;\n    if (newlyFocusedDz === focusedDz) return;\n\n    focusedDzLabel = newlyFocusedDz.getAttribute(\"aria-label\") || \"\";\n    const {items: originItems} = dzToConfig.get(focusedDz);\n    const originItem = originItems.find(item => item[ITEM_ID_KEY] === focusedItemId);\n    const originIdx = originItems.indexOf(originItem);\n    const itemToMove = originItems.splice(originIdx, 1)[0];\n    const {items: targetItems, autoAriaDisabled} = dzToConfig.get(newlyFocusedDz);\n    if (\n        newlyFocusedDz.getBoundingClientRect().top < focusedDz.getBoundingClientRect().top ||\n        newlyFocusedDz.getBoundingClientRect().left < focusedDz.getBoundingClientRect().left\n    ) {\n        targetItems.push(itemToMove);\n        if (!autoAriaDisabled) {\n            alertToScreenReader(`Moved item ${focusedItemLabel} to the end of the list ${focusedDzLabel}`);\n        }\n    } else {\n        targetItems.unshift(itemToMove);\n        if (!autoAriaDisabled) {\n            alertToScreenReader(`Moved item ${focusedItemLabel} to the beginning of the list ${focusedDzLabel}`);\n        }\n    }\n    const dzFrom = focusedDz;\n    dispatchFinalizeEvent(dzFrom, originItems, {trigger: TRIGGERS.DROPPED_INTO_ANOTHER, id: focusedItemId, source: SOURCES.KEYBOARD});\n    dispatchFinalizeEvent(newlyFocusedDz, targetItems, {trigger: TRIGGERS.DROPPED_INTO_ZONE, id: focusedItemId, source: SOURCES.KEYBOARD});\n    focusedDz = newlyFocusedDz;\n}\n\nfunction triggerAllDzsUpdate() {\n    dzToHandles.forEach(({update}, dz) => update(dzToConfig.get(dz)));\n}\n\nfunction handleDrop(dispatchConsider = true) {\n    printDebug(() => \"drop\");\n    if (!dzToConfig.get(focusedDz).autoAriaDisabled) {\n        alertToScreenReader(`Stopped dragging item ${focusedItemLabel}`);\n    }\n    if (allDragTargets.has(document.activeElement)) {\n        document.activeElement.blur();\n    }\n    if (dispatchConsider) {\n        dispatchConsiderEvent(focusedDz, dzToConfig.get(focusedDz).items, {\n            trigger: TRIGGERS.DRAG_STOPPED,\n            id: focusedItemId,\n            source: SOURCES.KEYBOARD\n        });\n    }\n    styleInactiveDropZones(typeToDropZones.get(draggedItemType), dz => dzToConfig.get(dz).dropTargetStyle);\n    focusedItem = null;\n    focusedItemId = null;\n    focusedItemLabel = \"\";\n    draggedItemType = null;\n    focusedDz = null;\n    focusedDzLabel = \"\";\n    isDragging = false;\n    triggerAllDzsUpdate();\n}\n//////\nexport function dndzone(node, options) {\n    const config = {\n        items: undefined,\n        type: undefined,\n        dragDisabled: false,\n        dropFromOthersDisabled: false,\n        dropTargetStyle: DEFAULT_DROP_TARGET_STYLE,\n        autoAriaDisabled: false\n    };\n\n    function swap(arr, i, j) {\n        if (arr.length <= 1) return;\n        arr.splice(j, 1, arr.splice(i, 1, arr[j])[0]);\n    }\n\n    function handleKeyDown(e) {\n        printDebug(() => [\"handling key down\", e.key]);\n        switch (e.key) {\n            case \"Enter\":\n            case \" \": {\n                // we don't want to affect nested input elements\n                if ((e.target.value !== undefined || e.target.isContentEditable) && !allDragTargets.has(e.target)) {\n                    return;\n                }\n                e.preventDefault(); // preventing scrolling on spacebar\n                e.stopPropagation();\n                if (isDragging) {\n                    // TODO - should this trigger a drop? only here or in general (as in when hitting space or enter outside of any zone)?\n                    handleDrop();\n                } else {\n                    // drag start\n                    handleDragStart(e);\n                }\n                break;\n            }\n            case \"ArrowDown\":\n            case \"ArrowRight\": {\n                if (!isDragging) return;\n                e.preventDefault(); // prevent scrolling\n                e.stopPropagation();\n                const {items} = dzToConfig.get(node);\n                const children = Array.from(node.children);\n                const idx = children.indexOf(e.currentTarget);\n                printDebug(() => [\"arrow down\", idx]);\n                if (idx < children.length - 1) {\n                    if (!config.autoAriaDisabled) {\n                        alertToScreenReader(`Moved item ${focusedItemLabel} to position ${idx + 2} in the list ${focusedDzLabel}`);\n                    }\n                    swap(items, idx, idx + 1);\n                    dispatchFinalizeEvent(node, items, {trigger: TRIGGERS.DROPPED_INTO_ZONE, id: focusedItemId, source: SOURCES.KEYBOARD});\n                }\n                break;\n            }\n            case \"ArrowUp\":\n            case \"ArrowLeft\": {\n                if (!isDragging) return;\n                e.preventDefault(); // prevent scrolling\n                e.stopPropagation();\n                const {items} = dzToConfig.get(node);\n                const children = Array.from(node.children);\n                const idx = children.indexOf(e.currentTarget);\n                printDebug(() => [\"arrow up\", idx]);\n                if (idx > 0) {\n                    if (!config.autoAriaDisabled) {\n                        alertToScreenReader(`Moved item ${focusedItemLabel} to position ${idx} in the list ${focusedDzLabel}`);\n                    }\n                    swap(items, idx, idx - 1);\n                    dispatchFinalizeEvent(node, items, {trigger: TRIGGERS.DROPPED_INTO_ZONE, id: focusedItemId, source: SOURCES.KEYBOARD});\n                }\n                break;\n            }\n        }\n    }\n    function handleDragStart(e) {\n        printDebug(() => \"drag start\");\n        if (!config.autoAriaDisabled) {\n            alertToScreenReader(\n                `Started dragging item ${focusedItemLabel}. Use the arrow keys to move it within its list ${focusedDzLabel}, or tab to another list in order to move the item into it`\n            );\n        }\n        setCurrentFocusedItem(e.currentTarget);\n        focusedDz = node;\n        draggedItemType = config.type;\n        isDragging = true;\n        styleActiveDropZones(\n            Array.from(typeToDropZones.get(config.type)).filter(dz => dz === focusedDz || !dzToConfig.get(dz).dropFromOthersDisabled),\n            dz => dzToConfig.get(dz).dropTargetStyle\n        );\n        dispatchConsiderEvent(node, dzToConfig.get(node).items, {trigger: TRIGGERS.DRAG_STARTED, id: focusedItemId, source: SOURCES.KEYBOARD});\n        triggerAllDzsUpdate();\n    }\n\n    function handleClick(e) {\n        if (!isDragging) return;\n        if (e.currentTarget === focusedItem) return;\n        e.stopPropagation();\n        handleDrop(false);\n        handleDragStart(e);\n    }\n    function setCurrentFocusedItem(draggableEl) {\n        const {items} = dzToConfig.get(node);\n        const children = Array.from(node.children);\n        const focusedItemIdx = children.indexOf(draggableEl);\n        focusedItem = draggableEl;\n        focusedItemId = items[focusedItemIdx][ITEM_ID_KEY];\n        focusedItemLabel = children[focusedItemIdx].getAttribute(\"aria-label\") || \"\";\n    }\n\n    function configure({\n        items = [],\n        type: newType = DEFAULT_DROP_ZONE_TYPE,\n        dragDisabled = false,\n        dropFromOthersDisabled = false,\n        dropTargetStyle = DEFAULT_DROP_TARGET_STYLE,\n        autoAriaDisabled = false\n    }) {\n        config.items = [...items];\n        config.dragDisabled = dragDisabled;\n        config.dropFromOthersDisabled = dropFromOthersDisabled;\n        config.dropTargetStyle = dropTargetStyle;\n        config.autoAriaDisabled = autoAriaDisabled;\n        if (!autoAriaDisabled) {\n            node.setAttribute(\"aria-disabled\", dragDisabled);\n            node.setAttribute(\"role\", \"list\");\n            node.setAttribute(\"aria-describedby\", dragDisabled ? INSTRUCTION_IDs.DND_ZONE_DRAG_DISABLED : INSTRUCTION_IDs.DND_ZONE_ACTIVE);\n        }\n        if (config.type && newType !== config.type) {\n            unregisterDropZone(node, config.type);\n        }\n        config.type = newType;\n        registerDropZone(node, newType);\n        dzToConfig.set(node, config);\n\n        node.tabIndex =\n            isDragging &&\n            (node === focusedDz ||\n                focusedItem.contains(node) ||\n                config.dropFromOthersDisabled ||\n                (focusedDz && config.type !== dzToConfig.get(focusedDz).type))\n                ? -1\n                : 0;\n        node.addEventListener(\"focus\", handleZoneFocus);\n\n        for (let i = 0; i < node.children.length; i++) {\n            const draggableEl = node.children[i];\n            allDragTargets.add(draggableEl);\n            draggableEl.tabIndex = isDragging ? -1 : 0;\n            if (!autoAriaDisabled) {\n                draggableEl.setAttribute(\"role\", \"listitem\");\n            }\n            draggableEl.removeEventListener(\"keydown\", elToKeyDownListeners.get(draggableEl));\n            draggableEl.removeEventListener(\"click\", elToFocusListeners.get(draggableEl));\n            if (!dragDisabled) {\n                draggableEl.addEventListener(\"keydown\", handleKeyDown);\n                elToKeyDownListeners.set(draggableEl, handleKeyDown);\n                draggableEl.addEventListener(\"click\", handleClick);\n                elToFocusListeners.set(draggableEl, handleClick);\n            }\n            if (isDragging && config.items[i][ITEM_ID_KEY] === focusedItemId) {\n                printDebug(() => [\"focusing on\", {i, focusedItemId}]);\n                // if it is a nested dropzone, it was re-rendered and we need to refresh our pointer\n                focusedItem = draggableEl;\n                // without this the element loses focus if it moves backwards in the list\n                draggableEl.focus();\n            }\n        }\n    }\n    configure(options);\n\n    const handles = {\n        update: newOptions => {\n            printDebug(() => `keyboard dndzone will update newOptions: ${toString(newOptions)}`);\n            configure(newOptions);\n        },\n        destroy: () => {\n            printDebug(() => \"keyboard dndzone will destroy\");\n            unregisterDropZone(node, config.type);\n            dzToConfig.delete(node);\n            dzToHandles.delete(node);\n        }\n    };\n    dzToHandles.set(node, handles);\n    return handles;\n}\n","import {dndzone as pointerDndZone} from \"./pointerAction\";\nimport {dndzone as keyboardDndZone} from \"./keyboardAction\";\nimport {ITEM_ID_KEY} from \"./constants\";\nimport {toString} from \"./helpers/util\";\n\n/**\n * A custom action to turn any container to a dnd zone and all of its direct children to draggables\n * Supports mouse, touch and keyboard interactions.\n * Dispatches two events that the container is expected to react to by modifying its list of items,\n * which will then feed back in to this action via the update function\n *\n * @typedef {Object} Options\n * @property {Array} items - the list of items that was used to generate the children of the given node (the list used in the #each block\n * @property {string} [type] - the type of the dnd zone. children dragged from here can only be dropped in other zones of the same type, default to a base type\n * @property {number} [flipDurationMs] - if the list animated using flip (recommended), specifies the flip duration such that everything syncs with it without conflict, defaults to zero\n * @property {boolean} [dragDisabled]\n * @property {boolean} [dropFromOthersDisabled]\n * @property {Object} [dropTargetStyle]\n * @property {Function} [transformDraggedElement]\n * @param {HTMLElement} node - the element to enhance\n * @param {Options} options\n * @return {{update: function, destroy: function}}\n */\nexport function dndzone(node, options) {\n    validateOptions(options);\n    const pointerZone = pointerDndZone(node, options);\n    const keyboardZone = keyboardDndZone(node, options);\n    return {\n        update: newOptions => {\n            validateOptions(newOptions);\n            pointerZone.update(newOptions);\n            keyboardZone.update(newOptions);\n        },\n        destroy: () => {\n            pointerZone.destroy();\n            keyboardZone.destroy();\n        }\n    };\n}\n\nfunction validateOptions(options) {\n    /*eslint-disable*/\n    const {\n        items,\n        flipDurationMs,\n        type,\n        dragDisabled,\n        dropFromOthersDisabled,\n        dropTargetStyle,\n        transformDraggedElement,\n        autoAriaDisabled,\n        ...rest\n    } = options;\n    /*eslint-enable*/\n    if (Object.keys(rest).length > 0) {\n        console.warn(`dndzone will ignore unknown options`, rest);\n    }\n    if (!items) {\n        throw new Error(\"no 'items' key provided to dndzone\");\n    }\n    const itemWithMissingId = items.find(item => !{}.hasOwnProperty.call(item, ITEM_ID_KEY));\n    if (itemWithMissingId) {\n        throw new Error(`missing '${ITEM_ID_KEY}' property for item ${toString(itemWithMissingId)}`);\n    }\n}\n","<script>\nlet svgs={\n\tParagraph:{d:\"M448 48v32a16 16 0 0 1-16 16h-48v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V96h-32v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V352h-32a160 160 0 0 1 0-320h240a16 16 0 0 1 16 16z\", viewbox:[0, 0, 448, 512]},\n\tImage:{d:\"M440,72H40c-22.08,0.026-39.974,17.92-40,40v256c0.026,22.08,17.92,39.974,40,40h400c2.245,0.009,4.486-0.187,6.696-0.584C465.945,404.194,480.037,387.517,480,368V112C479.974,89.919,462.08,72.026,440,72z M40,392c-12.435-0.002-22.81-9.501-23.904-21.888L175.6,265.824L337.808,392H40z M464,368c0.013,11.742-8.492,21.761-20.08,23.656c-1.294,0.233-2.606,0.348-3.92,0.344h-76.136l-105.992-82.488l94.784-75.792L464,300.528V368z M464,281.872l-107.88-64.728c-2.868-1.725-6.506-1.482-9.12,0.608l-102.136,81.68l-63.96-49.744c-2.695-2.094-6.421-2.249-9.28-0.384L16,351.056V112c0-13.255,10.745-24,24-24h400c13.255,0,24,10.745,24,24V281.872z M240,120c-26.51,0-48,21.49-48,48c0.026,26.499,21.501,47.974,48,48c26.51,0,48-21.49,48-48C288,141.49,266.51,120,240,120z M240,200c-17.673,0-32-14.327-32-32s14.327-32,32-32c17.673,0,32,14.327,32,32S257.673,200,240,200z\", viewbox:[0, 0, 480, 480]},\n\tVideo:{d:\"m344.808594 220.992188-113.113282-61.890626c-6.503906-3.558593-14.191406-3.425781-20.566406.351563-6.378906 3.78125-10.183594 10.460937-10.183594 17.875v122.71875c0 7.378906 3.78125 14.046875 10.117188 17.832031 3.308594 1.976563 6.976562 2.96875 10.652344 2.96875 3.367187 0 6.742187-.832031 9.847656-2.503906l113.117188-60.824219c6.714843-3.613281 10.90625-10.59375 10.9375-18.222656.027343-7.628906-4.113282-14.640625-10.808594-18.304687zm-113.859375 63.617187v-91.71875l84.539062 46.257813zm0 0 m288.234375 -121.527344-.023437-.234375c-.433594-4.121094-4.75-40.777344-22.570313-59.421875-20.597656-21.929688-43.949219-24.59375-55.179687-25.871094-.929688-.105469-1.78125-.203125-2.542969-.304688l-.894531-.09375c-67.6875-4.921874-169.910157-5.5937495-170.933594-5.59765575l-.089844-.00390625-.089844.00390625c-1.023437.00390625-103.246094.67578175-171.542968 5.59765575l-.902344.09375c-.726563.097657-1.527344.1875-2.398438.289063-11.101562 1.28125-34.203125 3.949219-54.859375 26.671875-16.972656 18.445312-21.878906 54.316406-22.382812 58.347656l-.058594.523438c-.152344 1.714844-3.765625 42.539062-3.765625 83.523437v38.3125c0 40.984375 3.613281 81.808594 3.765625 83.527344l.027344.257813c.433593 4.054687 4.746093 40.039062 22.484375 58.691406 19.367187 21.195312 43.855468 24 57.027344 25.507812 2.082031.238282 3.875.441406 5.097656.65625l1.183594.164063c39.082031 3.71875 161.617187 5.550781 166.8125 5.625l.15625.003906.15625-.003906c1.023437-.003907 103.242187-.675781 170.929687-5.597657l.894531-.09375c.855469-.113281 1.816406-.214843 2.871094-.324218 11.039062-1.171875 34.015625-3.605469 54.386719-26.019532 16.972656-18.449218 21.882812-54.320312 22.382812-58.347656l.058594-.523437c.152344-1.71875 3.769531-42.539063 3.769531-83.523438v-38.3125c-.003906-40.984375-3.617187-81.804687-3.769531-83.523437zm-26.238281 121.835937c0 37.933594-3.3125 77-3.625 80.585938-1.273438 9.878906-6.449219 32.574219-14.71875 41.5625-12.75 14.027343-25.847656 15.417969-35.410156 16.429687-1.15625.121094-2.226563.238282-3.195313.359375-65.46875 4.734375-163.832031 5.460938-168.363281 5.488281-5.082032-.074218-125.824219-1.921874-163.714844-5.441406-1.941406-.316406-4.039062-.558594-6.25-.808594-11.214844-1.285156-26.566406-3.042968-38.371094-16.027343l-.277344-.296875c-8.125-8.464844-13.152343-29.6875-14.429687-41.148438-.238281-2.710937-3.636719-42.238281-3.636719-80.703125v-38.3125c0-37.890625 3.304688-76.914062 3.625-80.574219 1.519532-11.636718 6.792969-32.957031 14.71875-41.574218 13.140625-14.453125 26.996094-16.054688 36.160156-17.113282.875-.101562 1.691407-.195312 2.445313-.292968 66.421875-4.757813 165.492187-5.464844 169.046875-5.492188 3.554688.023438 102.589844.734375 168.421875 5.492188.808594.101562 1.691406.203125 2.640625.3125 9.425781 1.074218 23.671875 2.699218 36.746094 16.644531l.121094.128906c8.125 8.464844 13.152343 30.058594 14.429687 41.75.226563 2.558594 3.636719 42.171875 3.636719 80.71875zm0 0\",viewbox:[0, 0, 576, 512]},\n\tSection:{d:\"m9.5 24h-8c-.827 0-1.5-.673-1.5-1.5v-21c0-.827.673-1.5 1.5-1.5h8c.827 0 1.5.673 1.5 1.5v21c0 .827-.673 1.5-1.5 1.5zm-8-23c-.276 0-.5.224-.5.5v21c0 .276.224.5.5.5h8c.276 0 .5-.224.5-.5v-21c0-.276-.224-.5-.5-.5zm22.5 6h-8c-.827 0-1.5-.673-1.5-1.5v-3c0-.827.673-1.5 1.5-1.5h8c.827 0 1.5.673 1.5 1.5v3c0 .827-.673 1.5-1.5 1.5zm-8-5c-.276 0-.5.224-.5.5v3c0 .276.224.5.5.5h8c.276 0 .5-.224.5-.5v-3c0-.276-.224-.5-.5-.5zm22.5 15h-8c-.827 0-1.5-.673-1.5-1.5v-3c0-.827.673-1.5 1.5-1.5h8c.827 0 1.5.673 1.5 1.5v3c0 .827-.673 1.5-1.5 1.5zm-8-5c-.276 0-.5.224-.5.5v3c0 .276.224.5.5.5h8c.276 0 .5-.224.5-.5v-3c0-.276-.224-.5-.5-.5zm22.5 24h-8c-.827 0-1.5-.673-1.5-1.5v-3c0-.827.673-1.5 1.5-1.5h8c.827 0 1.5.673 1.5 1.5v3c0 .827-.673 1.5-1.5 1.5zm-8-5c-.276 0-.5.224-.5.5v3c0 .276.224.5.5.5h8c.276 0 .5-.224.5-.5v-3c0-.276-.224-.5-.5-.5z\",viewbox:[0, 0, 24, 24]},\n\tEditor:{d:\"m370.589844 250.972656c-5.523438 0-10 4.476563-10 10v88.789063c-.019532 16.5625-13.4375 29.984375-30 30h-280.589844c-16.5625-.015625-29.980469-13.4375-30-30v-260.589844c.019531-16.558594 13.4375-29.980469 30-30h88.789062c5.523438 0 10-4.476563 10-10 0-5.519531-4.476562-10-10-10h-88.789062c-27.601562.03125-49.96875 22.398437-50 50v260.59375c.03125 27.601563 22.398438 49.96875 50 50h280.589844c27.601562-.03125 49.96875-22.398437 50-50v-88.792969c0-5.523437-4.476563-10-10-10zm0 0 m6.628906 -203.441406c-17.574218-17.574218-46.066406-17.574218-63.640625 0l-178.40625 178.40625c-1.222656 1.222656-2.105469 2.738282-2.566406 4.402344l-23.460937 84.699219c-.964844 3.472656.015624 7.191406 2.5625 9.742187 2.550781 2.546875 6.269531 3.527344 9.742187 2.566406l84.699219-23.464843c1.664062-.460938 3.179687-1.34375 4.402344-2.566407l178.402343-178.410156c17.546875-17.585937 17.546875-46.054687 0-63.640625zm-220.257812 184.90625 146.011718-146.015625 47.089844 47.089844-146.015625 146.015625zm-9.40625 18.875 37.621094 37.625-52.039063 14.417969zm227.257812-142.546875-10.605468 10.605469-47.09375-47.09375 10.609374-10.605469c9.761719-9.761719 25.589844-9.761719 35.351563 0l11.738281 11.734375c9.746094 9.773438 9.746094 25.589844 0 35.359375zm0 0\",viewbox:[0, -1, 401.52289, 401]},\n\tMove:{d:\"M418.742,203.942c-0.3-0.2-0.5-0.5-0.8-0.8l-50.6-44.8c-4.1-3.6-10.5-3.2-14.1,0.9c-3.6,4.1-3.2,10.4,0.8,14l30.9,27.4h-164.3v-164.3l27.3,30.8c3.7,4.1,10,4.5,14.1,0.8s4.5-10,0.8-14.1l-44.8-50.5c-3.7-4.1-10-4.5-14.1-0.8c-0.3,0.3-0.6,0.5-0.8,0.8l-44.8,50.5c-3.6,4.1-3.2,10.5,0.9,14.1c4.1,3.6,10.4,3.2,14-0.8l27.3-30.8v164.3h-164.2l30.8-27.3c4.1-3.7,4.5-10,0.8-14.1c-3.7-4.1-10-4.5-14.1-0.8l-50.5,44.8c-4.1,3.7-4.5,10-0.8,14.1c0.3,0.3,0.5,0.6,0.8,0.8l50.5,44.8c4.1,3.6,10.5,3.2,14.1-0.9c3.6-4.1,3.2-10.4-0.8-14l-30.8-27.4h164.3v164.3l-27.3-30.8c-3.7-4.1-10-4.5-14.1-0.8c-4.1,3.7-4.5,10-0.8,14.1l44.8,50.5c3.7,4.1,10,4.5,14.1,0.8c0.3-0.3,0.6-0.5,0.8-0.8l44.8-50.5c3.6-4.1,3.2-10.5-0.9-14.1c-4.1-3.6-10.4-3.2-14,0.8l-27.4,30.8v-164.3h164.3l-30.8,27.3c-4.1,3.7-4.5,10-0.8,14.1c3.7,4.1,10,4.5,14.1,0.8l50.5-44.8C422.042,214.342,422.442,208.042,418.742,203.942z\",viewbox:[0, 0, 421.285, 421.285]},\n\tCode:{d:\"M325.762,70.513l-17.706-4.854c-2.279-0.76-4.524-0.521-6.707,0.715c-2.19,1.237-3.669,3.094-4.429,5.568L190.426,440.53c-0.76,2.475-0.522,4.809,0.715,6.995c1.237,2.19,3.09,3.665,5.568,4.425l17.701,4.856c2.284,0.766,4.521,0.526,6.71-0.712c2.19-1.243,3.666-3.094,4.425-5.564L332.042,81.936c0.759-2.474,0.523-4.808-0.716-6.999C330.088,72.747,328.237,71.272,325.762,70.513z M166.167,142.465c0-2.474-0.953-4.665-2.856-6.567l-14.277-14.276c-1.903-1.903-4.093-2.857-6.567-2.857s-4.665,0.955-6.567,2.857L2.856,254.666C0.95,256.569,0,258.759,0,261.233c0,2.474,0.953,4.664,2.856,6.566l133.043,133.044c1.902,1.906,4.089,2.854,6.567,2.854s4.665-0.951,6.567-2.854l14.277-14.268c1.903-1.902,2.856-4.093,2.856-6.57c0-2.471-0.953-4.661-2.856-6.563L51.107,261.233l112.204-112.201C165.217,147.13,166.167,144.939,166.167,142.465z M519.614,254.663L386.567,121.619c-1.902-1.902-4.093-2.857-6.563-2.857c-2.478,0-4.661,0.955-6.57,2.857l-14.271,14.275c-1.902,1.903-2.851,4.09-2.851,6.567s0.948,4.665,2.851,6.567l112.206,112.204L359.163,373.442c-1.902,1.902-2.851,4.093-2.851,6.563c0,2.478,0.948,4.668,2.851,6.57l14.271,14.268c1.909,1.906,4.093,2.854,6.57,2.854c2.471,0,4.661-0.951,6.563-2.854L519.614,267.8c1.903-1.902,2.854-4.096,2.854-6.57C522.468,258.755,521.517,256.565,519.614,254.663z\", viewbox:[0, 0, 522.468, 522.469]},\n\tAuthorization:{d:\"M240.954,329.111c-4.55-4.573-11.904-4.573-16.454-0.023l-43.136,43.171h-30.092c-6.435,0-11.636,5.213-11.636,11.648v23.284h-23.273c-6.435,0-11.636,5.213-11.636,11.648v23.284H81.455c-6.423,0-11.636,5.213-11.636,11.648v30.115l-4.817,4.818H23.273v-41.751l194.397-194.56c4.55-4.538,4.55-11.916,0.012-16.465l-3.409-3.421c-3.107-3.095-4.806-7.215-4.806-11.602v-0.047c0-6.435-5.201-11.625-11.636-11.625c-6.435,0-11.636,5.236-11.636,11.671c0,8.297,2.525,16.209,7.215,22.842L3.409,433.896C1.222,436.084,0,439.039,0,442.135v58.228c0,6.423,5.213,11.636,11.636,11.636h58.182c3.084,0,6.051-1.233,8.227-3.409l11.636-11.648c2.188-2.188,3.409-5.143,3.409-8.227v-23.284h23.273c6.435,0,11.636-5.213,11.636-11.648v-23.284h23.273c6.435,0,11.636-5.213,11.636-11.648v-23.284h23.273c3.095,0,6.051-1.233,8.227-3.409l46.545-46.58C245.504,341.026,245.504,333.66,240.954,329.111z M421.318,136.959l-46.545-46.58c-13.708-13.743-37.655-13.743-51.363,0c-14.161,14.173-14.161,37.236,0,51.398l46.545,46.58c6.854,6.865,15.977,10.647,25.681,10.647c9.705,0,18.828-3.782,25.681-10.647C435.479,174.184,435.479,151.121,421.318,136.959z M404.864,171.88c-4.934,4.934-13.521,4.934-18.455,0l-46.545-46.58c-5.073-5.085-5.073-13.37,0-18.467c2.467-2.467,5.737-3.828,9.228-3.828s6.761,1.361,9.228,3.828l46.545,46.58C409.949,158.498,409.949,166.795,404.864,171.88z M500.364,146.187L365.545,11.263c-15.023-15.011-41.158-15.023-56.18,0L197.818,122.891c-7.505,7.505-11.636,17.489-11.636,28.113c0,10.624,4.131,20.608,11.636,28.113l111.546,111.628l-6.842,6.854c-3.095,3.095-7.215,4.806-11.59,4.806h-0.012c-4.387,0-8.518-1.711-11.625-4.817l-32.524-32.547c-4.55-4.55-11.904-4.55-16.454,0l-64,64.047c-4.55,4.55-4.55,11.916,0,16.465c2.269,2.269,5.248,3.409,8.227,3.409s5.958-1.14,8.227-3.409l55.773-55.808l24.297,24.308c7.505,7.505,17.466,11.636,28.09,11.636c0.012,0,0.023,0,0.035,0c10.589-0.012,20.538-4.154,28.009-11.636l15.069-15.081c4.55-4.55,4.55-11.916,0-16.465L214.272,162.641c-3.119-3.107-4.817-7.238-4.817-11.636c0-4.399,1.699-8.529,4.817-11.648L325.818,27.74c6.225-6.237,17.047-6.225,23.273,0L483.91,162.664c3.119,3.107,4.818,7.238,4.818,11.636s-1.699,8.529-4.818,11.648L372.364,297.564c-3.119,3.119-7.238,4.829-11.636,4.829c-6.435,0-11.636,5.213-11.636,11.648c0,6.435,5.201,11.648,11.636,11.648c10.601,0,20.585-4.131,28.09-11.648l111.546-111.628 C507.869,194.908,512,184.924,512,174.3C512,163.665,507.869,153.681,500.364,146.187z\", viewbox:[0, 0, 512, 512]},\n\tConnection:{d:\"m52 24c.256 0 .512-.098.707-.293l5-5-1.414-1.414-4.293 4.293-1.293-1.293-1.414 1.414 2 2c.195.195.451.293.707.293z M0 0 m54 46c-2.282 0-4.339.966-5.798 2.504l-15.599-11.432c.882-1.489 1.397-3.22 1.397-5.072 0-.859-.12-1.688-.325-2.484l13.224-4.846c1.333 2.568 4.013 4.33 7.101 4.33 4.411 0 8-3.589 8-8s-3.589-8-8-8-8 3.589-8 8c0 .617.077 1.215.21 1.792l-13.225 4.847c-.985-2.022-2.628-3.659-4.653-4.638l1.899-5.205c.57.13 1.16.204 1.769.204 4.411 0 8-3.589 8-8s-3.589-8-8-8-8 3.589-8 8c0 3.097 1.772 5.782 4.352 7.111l-1.9 5.206c-.786-.2-1.605-.317-2.452-.317-1.616 0-3.139.394-4.492 1.078l-4.403-6.925c1.767-1.469 2.895-3.681 2.895-6.153 0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8c1.223 0 2.378-.284 3.416-.777l4.405 6.93c-2.322 1.833-3.821 4.665-3.821 7.847 0 3.023 1.354 5.732 3.481 7.567l-3.753 5.361c-1.114-.59-2.382-.928-3.728-.928-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8c0-2.347-1.022-4.454-2.637-5.919l3.754-5.363c1.446.813 3.11 1.282 4.883 1.282 2.944 0 5.586-1.286 7.418-3.318l15.596 11.43c-.644 1.153-1.014 2.477-1.014 3.888 0 4.411 3.589 8 8 8s8-3.589 8-8-3.589-8-8-8zm0-31c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6zm-28-5c0-3.309 2.691-6 6-6s6 2.691 6 6-2.691 6-6 6-6-2.691-6-6zm-22 0c0-3.309 2.691-6 6-6s6 2.691 6 6-2.691 6-6 6-6-2.691-6-6zm12 42c0 3.309-2.691 6-6 6s-6-2.691-6-6 2.691-6 6-6 6 2.691 6 6zm8-12c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm30 20c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z M0 0 m8 52.586-1.293-1.293-1.414 1.414 2 2c.195.195.451.293.707.293s.512-.098.707-.293l5-5-1.414-1.414z\", viewbox:[0, 0, 64, 64]},\n\tEquation:{d:\"M426.024,86.447H209.705l-84.911,298.911c-2.568,7.967-9.854,13.482-18.22,13.771c-0.236,0-0.464,0.006-0.688,0.006c-8.092,0-15.41-4.924-18.436-12.478l-34.714-86.782H19.851C8.884,299.876,0,290.986,0,280.022c0-10.965,8.893-19.854,19.851-19.854H66.18c8.109,0,15.421,4.941,18.436,12.483l19.237,48.09l72.472-260.218c2.639-8.213,10.279-13.781,18.903-13.781h230.798c10.97,0,19.854,8.89,19.854,19.851S436.988,86.447,426.024,86.447zM436.723,353.227l-78.259-87.904l74.576-82.783c1.318-1.454,1.638-3.547,0.857-5.341c-0.804-1.791-2.577-2.946-4.54-2.946h-47.18c-1.442,0-2.802,0.629-3.759,1.72l-50.059,58.047l-49.674-58.029c-0.939-1.103-2.317-1.738-3.771-1.738h-49.334c-1.956,0-3.729,1.149-4.521,2.929c-0.81,1.785-0.479,3.875,0.824,5.332l73.743,82.81l-77.641,87.923c-1.297,1.465-1.605,3.552-0.813,5.325c0.813,1.785,2.586,2.92,4.528,2.92h48.9c1.472,0,2.867-0.65,3.807-1.785l51.819-62.181l53.05,62.229c0.951,1.11,2.328,1.743,3.782,1.743h49.97c1.962,0,3.735-1.141,4.527-2.926C438.354,356.779,438.035,354.692,436.723,353.227z\", viewbox:[0,0,445.878, 445.878]},\n\tTrash:{d:\"M491.362,593.727H102.374c-20.865,0-37.84-16.975-37.84-37.84v-448.5h464.668v448.5C529.202,576.752,512.228,593.727,491.362,593.727z M79.677,122.529v433.357c0,12.516,10.182,22.697,22.697,22.697h388.989c12.516,0,22.697-10.182,22.697-22.697V122.529H79.677zM550.8,91.913H42.927V58.382c0-20.86,16.973-37.831,37.835-37.831h192.852C276.618,8.58,286.12,0,297.506,0c11.399,0,20.907,8.578,23.905,20.551H512.97c20.859,0,37.83,16.971,37.83,37.831V91.913L550.8,91.913z M58.07,76.77h477.587V58.382c0-12.51-10.178-22.688-22.688-22.688h-205.57l-0.148-7.42c-0.145-7.24-4.516-13.131-9.745-13.131c-5.219,0-9.586,5.893-9.736,13.136l-0.154,7.415H80.762c-12.512,0-22.692,10.177-22.692,22.688V76.77zM144.621,546.275c-15.949,0-28.924-12.977-28.924-28.926V196.011c0-15.95,12.975-28.926,28.924-28.926c15.95,0,28.926,12.976,28.926,28.926V517.35C173.547,533.299,160.571,546.275,144.621,546.275z M144.621,182.228c-7.599,0-13.781,6.183-13.781,13.783V517.35c0,7.6,6.183,13.783,13.781,13.783c7.601,0,13.783-6.184,13.783-13.783V196.011C158.404,188.411,152.222,182.228,144.621,182.228zM243.094,546.275c-15.95,0-28.925-12.977-28.925-28.926V196.011c0-15.95,12.976-28.926,28.925-28.926c15.949,0,28.925,12.976,28.925,28.926V517.35C272.019,533.299,259.043,546.275,243.094,546.275z M243.094,182.228c-7.6,0-13.782,6.183-13.782,13.783V517.35c0,7.6,6.183,13.783,13.782,13.783s13.782-6.184,13.782-13.783V196.011C256.876,188.411,250.694,182.228,243.094,182.228zM341.565,546.275c-15.949,0-28.926-12.977-28.926-28.926V196.011c0-15.95,12.977-28.926,28.926-28.926s28.926,12.976,28.926,28.926V517.35C370.491,533.299,357.515,546.275,341.565,546.275z M341.565,182.228c-7.6,0-13.783,6.183-13.783,13.783V517.35c0,7.6,6.184,13.783,13.783,13.783s13.783-6.184,13.783-13.783V196.011C355.347,188.411,349.165,182.228,341.565,182.228zM440.038,546.275c-15.955,0-28.934-12.977-28.934-28.926V196.011c0-15.95,12.979-28.926,28.934-28.926c15.949,0,28.924,12.976,28.924,28.926V517.35C468.962,533.299,455.987,546.275,440.038,546.275z M440.038,182.228c-7.605,0-13.791,6.183-13.791,13.783V517.35c0,7.6,6.186,13.783,13.791,13.783c7.6,0,13.781-6.184,13.781-13.783V196.011C453.819,188.411,447.638,182.228,440.038,182.228z\",viewbox:[0, 0, 593.727, 593.727]},\n\tCut:{d:\"M362.601,320.387c-12.648,0-25.079,2.644-36.487,7.708l-32.028-65.17c3.332-6.697,5.079-14.073,5.079-21.639c0-5.148-0.837-10.27-2.429-15.143c2.464-2.075,4.93-4.235,7.377-6.481c14.119-12.958,26.64-27.893,37.217-44.388c10.887-16.979,19.642-34.991,26.022-53.538c6.592-19.165,10.563-38.719,11.802-58.117c0.642-10.049,0.567-19.721-0.221-28.746c-0.685-7.831-1.648-16.21-4.059-24.471l-0.061-0.233c-0.339-1.315-1.044-4.052-3.352-6.455c-2.592-2.698-6.181-4.032-9.852-3.65c-3.747,0.386-7.211,2.573-9.265,5.851c-1.562,2.49-2.865,4.992-4.126,7.412c-0.391,0.749-0.78,1.496-1.173,2.233c-2.011,3.773-4.03,7.541-6.049,11.31c-4.265,7.96-8.471,16.08-12.577,24.009c-9.026,17.425-17.713,34.714-25.758,50.802c-8.545,17.092-16.807,34.152-25.948,53.082c-6.284,13.016-12.388,25.923-18.227,38.515c-2.631-0.437-5.301-0.667-7.998-0.667c-2.707,0-5.387,0.232-8.03,0.673c-0.479-1.031-0.956-2.064-1.436-3.095c-8.294-17.817-16.782-35.479-24.718-51.911c-8.752-18.124-18.007-36.628-26.172-52.954c-8.69-17.377-17.318-34.196-25.646-49.992c-3.641-6.905-7.885-14.93-12.183-22.777l-2.52-4.579l-0.125-0.244c-0.792-1.563-3.201-6.318-9.037-7.49c-1.977-0.397-11.983-1.708-14.946,11.7c-0.035,0.158-0.066,0.307-0.099,0.439c-4.005,16.14-5.117,34.891-3.306,55.731c1.717,19.759,6.131,39.388,13.121,58.341c7.036,19.081,16.08,36.904,26.882,52.975c10.966,16.315,23.669,30.858,37.756,43.223c1.378,1.21,2.778,2.399,4.186,3.572c-1.576,4.85-2.404,9.946-2.404,15.066c0,7.566,1.747,14.942,5.08,21.639l-32.196,65.511c-11.611-5.289-24.318-8.049-37.298-8.049c-49.516,0-89.8,40.284-89.8,89.8c0,49.517,40.284,89.801,89.8,89.801c0.391,0,0.778-0.008,1.188-0.021c10.986-0.257,20.838-6.505,25.756-16.329c0.032-0.062,0.063-0.123,0.094-0.185l86.052-175.097l86.051,175.096c5.014,10.202,15.192,16.54,26.564,16.54c0.614,0,1.251-0.023,1.942-0.071c23.365-0.632,45.275-10.236,61.724-27.062c16.528-16.907,25.63-39.164,25.63-62.672C452.401,360.672,412.117,320.387,362.601,320.387z M277.15,200.556c5.633-12.132,11.527-24.574,17.575-37.097c9.108-18.863,17.338-35.858,25.826-52.835c8.011-16.021,16.66-33.233,25.667-50.625c4.036-7.791,8.208-15.848,12.407-23.685c0.102-0.19,0.204-0.381,0.306-0.571c0.026,0.291,0.052,0.582,0.078,0.871c0.701,8.025,0.764,16.683,0.186,25.73c-1.125,17.616-4.744,35.409-10.755,52.886c-5.862,17.041-13.918,33.61-23.946,49.248c-9.648,15.046-21.055,28.655-33.904,40.448c-1.352,1.24-2.708,2.454-4.064,3.637l-0.001,0.017c-2.776-3.06-5.924-5.758-9.381-8.022L277.15,200.556z M178.873,168.269c-9.914-14.751-18.23-31.149-24.716-48.738c-6.374-17.283-10.397-35.166-11.96-53.152c-0.958-11.024-1.021-21.316-0.194-30.781c1.674,3.148,3.286,6.201,4.793,9.06c8.261,15.67,16.823,32.361,25.45,49.61c8.136,16.269,17.357,34.707,26.05,52.706c7.904,16.366,16.354,33.95,24.596,51.654c0.302,0.65,0.604,1.3,0.907,1.949h0.009c-3.472,2.277-6.632,4.992-9.415,8.072l-0.001-0.016c-0.39-0.337-0.779-0.676-1.166-1.016C200.434,196.391,188.876,183.152,178.873,168.269z M238.037,288.35l-91.493,186.166c-0.021,0.042-0.042,0.084-0.063,0.126c-1.59,3.213-4.803,5.256-8.386,5.33c-0.044,0.001-0.089,0.002-0.133,0.004c-0.195,0.007-0.378,0.012-0.563,0.012c-38.488,0-69.8-31.313-69.8-69.801c0-38.487,31.313-69.8,69.8-69.8c12.986,0,25.603,3.538,36.485,10.232c2.399,1.475,5.307,1.87,8.015,1.09c2.706-0.782,4.957-2.669,6.199-5.196l32.74-66.618l-0.024-0.044c5.126,3.951,10.988,6.848,17.268,8.499H238.037zM226.547,257.065c-3.098-4.687-4.735-10.143-4.735-15.778c0-4.754,1.127-9.279,3.351-13.453c3.295-6.187,8.713-10.946,15.254-13.401c3.224-1.209,6.612-1.822,10.071-1.822c3.457-0.002,6.84,0.609,10.056,1.815c6.542,2.451,11.961,7.205,15.26,13.386c2.23,4.179,3.36,8.712,3.36,13.475c0,5.635-1.637,11.092-4.735,15.778c-5.337,8.076-14.287,12.897-23.941,12.897C240.834,269.962,231.884,265.141,226.547,257.065z M364.313,479.933c-0.173,0.004-0.347,0.013-0.52,0.026c-3.929,0.3-7.577-1.815-9.303-5.329l-91.548-186.28h-0.045c6.28-1.651,12.141-4.548,17.268-8.499l-0.024,0.044l32.524,66.18c1.233,2.511,3.462,4.39,6.145,5.181c2.684,0.794,5.574,0.423,7.973-1.015c10.75-6.446,23.136-9.854,35.818-9.854c38.488,0,69.8,31.313,69.8,69.8C432.401,447.73,401.857,479.018,364.313,479.933zM362.601,359.553c-10.626,0-20.784,3.246-29.373,9.387c-3.981,2.846-5.317,8.154-3.159,12.546l35.374,71.977c1.717,3.495,5.246,5.591,8.974,5.591c0.97,0,1.955-0.142,2.924-0.438c21.135-6.461,35.896-26.376,35.896-48.429C413.235,382.267,390.52,359.553,362.601,359.553z M379.114,435.938l-26.839-54.611c3.275-1.17,6.755-1.773,10.326-1.773c16.892,0,30.635,13.742,30.635,30.634C393.235,420.679,387.705,430.373,379.114,435.938zM167.679,369.586c-8.76-6.563-19.23-10.032-30.28-10.032c-27.92,0-50.635,22.714-50.635,50.634c0,22.6,15.201,42.65,36.965,48.759c0.898,0.252,1.807,0.373,2.704,0.373c3.734,0,7.259-2.102,8.973-5.59l35.252-71.729C172.778,377.683,171.527,372.469,167.679,369.586z M121.619,436.437c-9.024-5.453-14.855-15.362-14.855-26.25c0-16.892,13.743-30.634,30.635-30.634c3.888,0,7.653,0.705,11.159,2.07L121.619,436.437z\",viewbox:[0, 0, 499.995, 499.995]},\n\t}\nexport let fill='salmon'\nexport let stroke=''\nexport let name='paragraph'\nexport let size=18\n</script>\n\n<svg width={size} height={size} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"{svgs[name].viewbox[0]} {svgs[name].viewbox[1]} {svgs[name].viewbox[2]} {svgs[name].viewbox[3]}\">\n\t<path fill={fill} stroke={stroke} d={svgs[name].d}></path>\n</svg>\n\n\n","<script>\n  export let opt\n  export let width\n  export let nodes\n  export let id\n  export let depth\n  export let view\n\n  async function post(id) {\n    try {\n      const options={\n        method: 'put',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\",\n          \"authorization\": 'Basic ' + btoa(opt.user + ':' + opt.pwd)\n        },\n        body: JSON.stringify(nodes[id])\n      }\n      const response=await fetch(opt.url+id, options)\n      const data= await response.json()\n      nodes[id]._rev=data.rev\n      console.log(options)\n      console.log(data)\n    }\n    catch (err) {console.log(err)}\n}\n  \n  let timer;\n\n\tfunction debounce() {\n    console.log('start debounce');\n\t\tclearTimeout(timer);\n\t\ttimer = setTimeout(() => {post(id);}, 1500);\n  }\n  \n</script>\n\n{#if opt.edit}\n  <span on:keyup={()=>debounce()} contenteditable=true bind:innerHTML={nodes[id].content.text}></span>\n{:else}\n  <span on:keyup={()=>debounce()} contenteditable=false  bind:innerHTML={nodes[id].content.text}></span>  \n{/if}\n<!--\n  {#if view.mode=='structure'}\n    <span contenteditable={view.edit} style=\"color:salmon\">{@html node.content.text.substring(0, 40)}</span>\n  {:else}\n    <span contenteditable={view.edit}>{@html node.content.text}</span>\n  {/if}\n-->\n<style>\n\n</style>\n\n","<script>\nexport let opt\nexport let nodes\nexport let width\nexport let depth\nexport let id\nexport let view\n$: width\n</script>\n\n{#if view!=\"header\"}\n\n<img src={nodes[id].content.src} alt=\"\"/>\n    <span contenteditable={opt.edit} style=\"color:salmon\"><i>{nodes[id].content.caption}</i></span>\n{/if}\n<style>\nimg {\nwidth:100%\n}\n</style>","<script>\n\t\texport let nodes\n\t\texport let id\n\t\texport let opt\n\t\texport let width\n\t\texport let depth\n\t\texport let view\n$: opt\n$: width\n</script>\n\n<div class=\"container\">\n<iframe class=\"video\" title=\"title\" src={nodes[id].content.src} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n</div>\n\n<style>\n.container {\n    position: relative;\n    width: 100%;\n    height: 0;\n    padding-bottom: 56.25%;\n}\n.video {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n</style>","if (window.Prism)\n    console.warn('Prism has already been initiated. Please ensure that svelte-prism is imported first.')\n\nwindow.Prism = window.Prism || {}\nwindow.Prism.manual = true","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\n\nvar _ = {\n\t/**\n\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t * additional languages or plugins yourself.\n\t *\n\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t *\n\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t * empty Prism object into the global scope before loading the Prism script like this:\n\t *\n\t * ```js\n\t * window.Prism = window.Prism || {};\n\t * Prism.manual = true;\n\t * // add a new <script> to load Prism's script\n\t * ```\n\t *\n\t * @default false\n\t * @type {boolean}\n\t * @memberof Prism\n\t * @public\n\t */\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t/**\n\t * A namespace for utility methods.\n\t *\n\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t * change or disappear at any time.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t */\n\tutil: {\n\t\tencode: function encode(tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\treturn tokens.map(encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the name of the type of the given value.\n\t\t *\n\t\t * @param {any} o\n\t\t * @returns {string}\n\t\t * @example\n\t\t * type(null)      === 'Null'\n\t\t * type(undefined) === 'Undefined'\n\t\t * type(123)       === 'Number'\n\t\t * type('foo')     === 'String'\n\t\t * type(true)      === 'Boolean'\n\t\t * type([1, 2])    === 'Array'\n\t\t * type({})        === 'Object'\n\t\t * type(String)    === 'Function'\n\t\t * type(/abc+/)    === 'RegExp'\n\t\t */\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t},\n\n\t\t/**\n\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t *\n\t\t * @param {Object} obj\n\t\t * @returns {number}\n\t\t */\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t/**\n\t\t * Creates a deep clone of the given object.\n\t\t *\n\t\t * The main intended use of this function is to clone language definitions.\n\t\t *\n\t\t * @param {T} o\n\t\t * @param {Record<number, any>} [visited]\n\t\t * @returns {T}\n\t\t * @template T\n\t\t */\n\t\tclone: function deepClone(o, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar clone, id;\n\t\t\tswitch (_.util.type(o)) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = [];\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn o;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t *\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @returns {string}\n\t\t */\n\t\tgetLanguage: function (element) {\n\t\t\twhile (element && !lang.test(element.className)) {\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n\t\t\t}\n\t\t\treturn 'none';\n\t\t},\n\n\t\t/**\n\t\t * Returns the script element that is currently executing.\n\t\t *\n\t\t * This does __not__ work for line script element.\n\t\t *\n\t\t * @returns {HTMLScriptElement | null}\n\t\t */\n\t\tcurrentScript: function () {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t}\n\n\t\t\t// IE11 workaround\n\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t// this will not work for inline scripts\n\n\t\t\ttry {\n\t\t\t\tthrow new Error();\n\t\t\t} catch (err) {\n\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t// A stack will look like this:\n\t\t\t\t//\n\t\t\t\t// Error\n\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\tif (src) {\n\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns whether a given class is active for `element`.\n\t\t *\n\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t * given class is just the given class with a `no-` prefix.\n\t\t *\n\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t *\n\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t * version of it, the class is considered active.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @param {string} className\n\t\t * @param {boolean} [defaultActivation=false]\n\t\t * @returns {boolean}\n\t\t */\n\t\tisActive: function (element, className, defaultActivation) {\n\t\t\tvar no = 'no-' + className;\n\n\t\t\twhile (element) {\n\t\t\t\tvar classList = element.classList;\n\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\treturn !!defaultActivation;\n\t\t}\n\t},\n\n\t/**\n\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\tlanguages: {\n\t\t/**\n\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t *\n\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t * will be overwritten at its original position.\n\t\t *\n\t\t * ## Best practices\n\t\t *\n\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t *\n\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t *\n\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t * @param {Grammar} redef The new tokens to append.\n\t\t * @returns {Grammar} The new language created.\n\t\t * @public\n\t\t * @example\n\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t *     // at its original position\n\t\t *     'comment': { ... },\n\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t * });\n\t\t */\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t *\n\t\t * ## Usage\n\t\t *\n\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t * this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.markup.style = {\n\t\t *     // token\n\t\t * };\n\t\t * ```\n\t\t *\n\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t *     'style': {\n\t\t *         // token\n\t\t *     }\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Special cases\n\t\t *\n\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t * will be ignored.\n\t\t *\n\t\t * This behavior can be used to insert tokens after `before`:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t *     'comment': Prism.languages.markup.comment,\n\t\t *     // tokens after 'comment'\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Limitations\n\t\t *\n\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t *\n\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t *\n\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t *\n\t\t * ```js\n\t\t * var oldMarkup = Prism.languages.markup;\n\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t *\n\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t * ```\n\t\t *\n\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t * object to be modified.\n\t\t * @param {string} before The key to insert before.\n\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t * object to be modified.\n\t\t *\n\t\t * Defaults to `Prism.languages`.\n\t\t * @returns {Grammar} The new grammar object.\n\t\t * @public\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\tvar grammar = root[inside];\n\t\t\t/** @type {Grammar} */\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar old = root[inside];\n\t\t\troot[inside] = ret;\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar objId = _.util.objId;\n\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tvar property = o[i],\n\t\t\t\t\t    propertyType = _.util.type(property);\n\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tplugins: {},\n\n\t/**\n\t * This is the most high-level function in Prism’s API.\n\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t * each one of them.\n\t *\n\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t *\n\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\t/**\n\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t * {@link Prism.highlightElement} on each one of them.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-highlightall`\n\t * 2. `before-all-elements-highlight`\n\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t *\n\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tcontainer: container,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run('before-highlightall', env);\n\n\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\tfor (var i = 0, element; element = env.elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\t/**\n\t * Highlights the code inside a single element.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-sanity-check`\n\t * 2. `before-highlight`\n\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t * 4. `before-insert`\n\t * 5. `after-highlight`\n\t * 6. `complete`\n\t *\n\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t * the element's language.\n\t *\n\t * @param {Element} element The element containing the code.\n\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t *\n\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t * asynchronous highlighting to work. You can build your own bundle on the\n\t * [Download page](https://prismjs.com/download.html).\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language = _.util.getLanguage(element);\n\t\tvar grammar = _.languages[language];\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tvar parent = element.parentElement;\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t}\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code) {\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (!env.grammar) {\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\treturn;\n\t\t}\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t}\n\t},\n\n\t/**\n\t * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n\t * and the language definitions to use, and returns a string with the HTML produced.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-tokenize`\n\t * 2. `after-tokenize`\n\t * 3. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @param {string} language The name of the language definition passed to `grammar`.\n\t * @returns {string} The highlighted HTML.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t */\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\t/**\n\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t * and the language definitions to use, and returns an array with the tokenized code.\n\t *\n\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t *\n\t * This method could be useful in other contexts as well, as a very crude parser.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * let code = `var foo = 0;`;\n\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t * tokens.forEach(token => {\n\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t *         console.log(`Found numeric literal: ${token.content}`);\n\t *     }\n\t * });\n\t */\n\ttokenize: function(text, grammar) {\n\t\tvar rest = grammar.rest;\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\tvar tokenList = new LinkedList();\n\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\treturn toArray(tokenList);\n\t},\n\n\t/**\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\thooks: {\n\t\tall: {},\n\n\t\t/**\n\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t *\n\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t *\n\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t * @public\n\t\t */\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\t/**\n\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t *\n\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t * @public\n\t\t */\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t},\n\n\tToken: Token\n};\n_self.Prism = _;\n\n\n// Typescript note:\n// The following can be used to import the Token type in JSDoc:\n//\n//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n/**\n * Creates a new token.\n *\n * @param {string} type See {@link Token#type type}\n * @param {string | TokenStream} content See {@link Token#content content}\n * @param {string|string[]} [alias] The alias(es) of the token.\n * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n * @class\n * @global\n * @public\n */\nfunction Token(type, content, alias, matchedStr) {\n\t/**\n\t * The type of the token.\n\t *\n\t * This is usually the key of a pattern in a {@link Grammar}.\n\t *\n\t * @type {string}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.type = type;\n\t/**\n\t * The strings or tokens contained by this token.\n\t *\n\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t *\n\t * @type {string | TokenStream}\n\t * @public\n\t */\n\tthis.content = content;\n\t/**\n\t * The alias(es) of the token.\n\t *\n\t * @type {string|string[]}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || '').length | 0;\n}\n\n/**\n * A token stream is an array of strings and {@link Token Token} objects.\n *\n * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n * them.\n *\n * 1. No adjacent strings.\n * 2. No empty strings.\n *\n *    The only exception here is the token stream that only contains the empty string and nothing else.\n *\n * @typedef {Array<string | Token>} TokenStream\n * @global\n * @public\n */\n\n/**\n * Converts the given token or token stream to an HTML representation.\n *\n * The following hooks will be run:\n * 1. `wrap`: On each {@link Token}.\n *\n * @param {string | Token | TokenStream} o The token or token stream to be converted.\n * @param {string} language The name of current language.\n * @returns {string} The HTML representation of the token or token stream.\n * @memberof Token\n * @static\n */\nToken.stringify = function stringify(o, language) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\tif (Array.isArray(o)) {\n\t\tvar s = '';\n\t\to.forEach(function (e) {\n\t\t\ts += stringify(e, language);\n\t\t});\n\t\treturn s;\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: stringify(o.content, language),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language\n\t};\n\n\tvar aliases = o.alias;\n\tif (aliases) {\n\t\tif (Array.isArray(aliases)) {\n\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t} else {\n\t\t\tenv.classes.push(aliases);\n\t\t}\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = '';\n\tfor (var name in env.attributes) {\n\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n};\n\n/**\n * @param {string} text\n * @param {LinkedList<string | Token>} tokenList\n * @param {any} grammar\n * @param {LinkedListNode<string | Token>} startNode\n * @param {number} startPos\n * @param {RematchOptions} [rematch]\n * @returns {void}\n * @private\n *\n * @typedef RematchOptions\n * @property {string} cause\n * @property {number} reach\n */\nfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\tfor (var token in grammar) {\n\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar patterns = grammar[token];\n\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar patternObj = patterns[j],\n\t\t\t\tinside = patternObj.inside,\n\t\t\t\tlookbehind = !!patternObj.lookbehind,\n\t\t\t\tgreedy = !!patternObj.greedy,\n\t\t\t\tlookbehindLength = 0,\n\t\t\t\talias = patternObj.alias;\n\n\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t}\n\n\t\t\t/** @type {RegExp} */\n\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t) {\n\n\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\n\t\t\t\tif (greedy && currentNode != tokenList.tail.prev) {\n\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0);\n\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t}\n\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\tpos = p;\n\n\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\tfor (\n\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\tk = k.next\n\t\t\t\t\t) {\n\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t}\n\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t// replace with the new match\n\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t} else {\n\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\tvar match = pattern.exec(str);\n\t\t\t\t}\n\n\t\t\t\tif (!match) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (lookbehind) {\n\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t}\n\n\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\tmatchStr = match[0].slice(lookbehindLength),\n\t\t\t\t\tto = from + matchStr.length,\n\t\t\t\t\tbefore = str.slice(0, from),\n\t\t\t\t\tafter = str.slice(to);\n\n\t\t\t\tvar reach = pos + str.length;\n\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\trematch.reach = reach;\n\t\t\t\t}\n\n\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\tif (before) {\n\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\tpos += before.length;\n\t\t\t\t}\n\n\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\tif (after) {\n\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t}\n\n\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t// this can only happen if the current pattern is greedy\n\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, {\n\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\treach: reach\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @typedef LinkedListNode\n * @property {T} value\n * @property {LinkedListNode<T> | null} prev The previous node.\n * @property {LinkedListNode<T> | null} next The next node.\n * @template T\n * @private\n */\n\n/**\n * @template T\n * @private\n */\nfunction LinkedList() {\n\t/** @type {LinkedListNode<T>} */\n\tvar head = { value: null, prev: null, next: null };\n\t/** @type {LinkedListNode<T>} */\n\tvar tail = { value: null, prev: head, next: null };\n\thead.next = tail;\n\n\t/** @type {LinkedListNode<T>} */\n\tthis.head = head;\n\t/** @type {LinkedListNode<T>} */\n\tthis.tail = tail;\n\tthis.length = 0;\n}\n\n/**\n * Adds a new node with the given value to the list.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {T} value\n * @returns {LinkedListNode<T>} The added node.\n * @template T\n */\nfunction addAfter(list, node, value) {\n\t// assumes that node != list.tail && values.length >= 0\n\tvar next = node.next;\n\n\tvar newNode = { value: value, prev: node, next: next };\n\tnode.next = newNode;\n\tnext.prev = newNode;\n\tlist.length++;\n\n\treturn newNode;\n}\n/**\n * Removes `count` nodes after the given node. The given node will not be removed.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {number} count\n * @template T\n */\nfunction removeRange(list, node, count) {\n\tvar next = node.next;\n\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\tnext = next.next;\n\t}\n\tnode.next = next;\n\tnext.prev = node;\n\tlist.length -= i;\n}\n/**\n * @param {LinkedList<T>} list\n * @returns {T[]}\n * @template T\n */\nfunction toArray(list) {\n\tvar array = [];\n\tvar node = list.head.next;\n\twhile (node !== list.tail) {\n\t\tarray.push(node.value);\n\t\tnode = node.next;\n\t}\n\treturn array;\n}\n\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _;\n}\n\n// Get current script and highlight\nvar script = _.util.currentScript();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (script.hasAttribute('data-manual')) {\n\t\t_.manual = true;\n\t}\n}\n\nfunction highlightAutomaticallyCallback() {\n\tif (!_.manual) {\n\t\t_.highlightAll();\n\t}\n}\n\nif (!_.manual) {\n\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t// See https://github.com/PrismJS/prism/issues/2102\n\tvar readyState = document.readyState;\n\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t} else {\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t}\n\t}\n}\n\nreturn _;\n\n})(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n*/\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n*/\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: /@[\\w-]+[\\s\\S]*?(?:;|(?=\\s*\\{))/,\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\((?!\\s*\\))\\s*)(?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))+?(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t\t'important': /!important\\b/i,\n\t\t'function': /[-a-z0-9]+(?=\\()/i,\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\n\t\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t\t'style-attr': {\n\t\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\t\tinside: markup.tag.inside\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talias: 'language-css'\n\t\t\t}\n\t\t}, markup.tag);\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\\s*[\\[$\\w\\xA0-\\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-flags': /[a-z]+$/,\n\t\t\t'regex-delimiter': /^\\/|\\/$/\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document) {\n\t\treturn;\n\t}\n\n\tvar Prism = window.Prism;\n\n\tvar LOADING_MESSAGE = 'Loading…';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn '✖ Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = '✖ Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\n\t/**\n\t * Sets the Prism `language-xxxx` or `lang-xxxx` class to the given language.\n\t *\n\t * @param {HTMLElement} element\n\t * @param {string} language\n\t * @returns {void}\n\t */\n\tfunction setLanguageClass(element, language) {\n\t\tvar className = element.className;\n\t\tclassName = className.replace(lang, ' ') + ' language-' + language;\n\t\telement.className = className.replace(/\\s+/g, ' ').trim();\n\t}\n\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tsetLanguageClass(code, language);\n\t\t\tsetLanguageClass(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.open('GET', src, true);\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\t// mark as loaded\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t\t// highlight code\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\t\t\t\t\t\tPrism.highlightElement(code);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// mark as failed\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_MESSAGE(xhr.status, xhr.statusText);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_EMPTY_MESSAGE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send(null);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; element = elements[i++];) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t}\n\n})();\n","const blocks = '(if|else if|await|then|catch|each|html|debug)';\n\nPrism.languages.svelte = Prism.languages.extend('markup', {\n\teach: {\n\t\tpattern: new RegExp(\n\t\t\t'{[#/]each' +\n\t\t\t\t'(?:(?:\\\\{(?:(?:\\\\{(?:[^{}])*\\\\})|(?:[^{}]))*\\\\})|(?:[^{}]))*}'\n\t\t),\n\t\tinside: {\n\t\t\t'language-javascript': [\n\t\t\t\t{\n\t\t\t\t\tpattern: /(as[\\s\\S]*)\\([\\s\\S]*\\)(?=\\s*\\})/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: Prism.languages['javascript'],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: /(as[\\s]*)[\\s\\S]*(?=\\s*)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: Prism.languages['javascript'],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: /(#each[\\s]*)[\\s\\S]*(?=as)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: Prism.languages['javascript'],\n\t\t\t\t},\n\t\t\t],\n\t\t\tkeyword: /[#/]each|as/,\n\t\t\tpunctuation: /{|}/,\n\t\t},\n\t},\n\tblock: {\n\t\tpattern: new RegExp(\n\t\t\t'{[#:/@]/s' +\n\t\t\t\tblocks +\n\t\t\t\t'(?:(?:\\\\{(?:(?:\\\\{(?:[^{}])*\\\\})|(?:[^{}]))*\\\\})|(?:[^{}]))*}'\n\t\t),\n\t\tinside: {\n\t\t\tpunctuation: /^{|}$/,\n\t\t\tkeyword: [new RegExp('[#:/@]' + blocks + '( )*'), /as/, /then/],\n\t\t\t'language-javascript': {\n\t\t\t\tpattern: /[\\s\\S]*/,\n\t\t\t\tinside: Prism.languages['javascript'],\n\t\t\t},\n\t\t},\n\t},\n\ttag: {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?:\"[^\"]*\"|'[^']*'|{[\\s\\S]+?}(?=[\\s/>])))|(?=[\\s/>])))+)?\\s*\\/?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\ttag: {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/i,\n\t\t\t\tinside: {\n\t\t\t\t\tpunctuation: /^<\\/?/,\n\t\t\t\t\tnamespace: /^[^\\s>\\/:]+:/,\n\t\t\t\t},\n\t\t\t},\n\t\t\t'language-javascript': {\n\t\t\t\tpattern: /\\{(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*\\}/,\n\t\t\t\tinside: Prism.languages['javascript'],\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/i,\n\t\t\t\tinside: {\n\t\t\t\t\tpunctuation: [\n\t\t\t\t\t\t/^=/,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t'language-javascript': {\n\t\t\t\t\t\tpattern: /{[\\s\\S]+}/,\n\t\t\t\t\t\tinside: Prism.languages['javascript'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tpunctuation: /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\tnamespace: /^[^\\s>\\/:]+:/,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\t'language-javascript': {\n\t\tpattern: /\\{(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*\\}/,\n\t\tlookbehind: true,\n\t\tinside: Prism.languages['javascript'],\n\t},\n});\n\nPrism.languages.svelte['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.svelte['entity'];\n\nPrism.hooks.add('wrap', env => {\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.svelte.tag, 'addInlined', {\n\tvalue: function addInlined(tagName, lang) {\n\t\tconst includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang],\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tconst inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside,\n\t\t\t},\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang],\n\t\t};\n\n\t\tconst def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(\n\t\t\t\t/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\s*|[\\s\\S])*?(?=<\\/__>)/.source.replace(\n\t\t\t\t\t/__/g,\n\t\t\t\t\ttagName\n\t\t\t\t),\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside,\n\t\t};\n\n\t\tPrism.languages.insertBefore('svelte', 'cdata', def);\n\t},\n});\n\nPrism.languages.svelte.tag.addInlined('style', 'css');\nPrism.languages.svelte.tag.addInlined('script', 'javascript');\n","<script context=\"module\">\n  import _prism from \"./import\";\n  export const prism = _prism;\n  export const highlight = _prism.highlightElement;\n  export const globalConfig = { transform: (x) => x };\n</script>\n\n<script>\n  import \"prism-svelte\";\n  import { tick } from \"svelte\";\n\n  export let language = \"javascript\";\n  export let source = \"\";\n  export let transform = (x) => x;\n  let element, formattedCode;\n\n  $: $$props && (source || element) && highlightCode();\n\n  function highlightCode() {\n    const grammar = prism.languages[language];\n    let body = source || element.textContent;\n    body = globalConfig.transform(body);\n    body = transform(body);\n    formattedCode =\n      language === \"none\" ? body : prism.highlight(body, grammar, language);\n  }\n</script>\n\n<code bind:this={element} style=\"display:none\">\n  <slot />\n</code>\n\n<pre class=\"language-{language}\" command-line data-output=\"2-17\">\n  <code class=\"language-{language}\">\n    {#if language === 'none'}\n      {formattedCode}\n    {:else}\n      {@html formattedCode}\n    {/if}\n  </code>\n</pre>\n","<svelte:head>\n\t<link rel='stylesheet' href='https://unpkg.com/prism-theme-night-owl@1.4.0/build/light.css'>\n\n</svelte:head>\n\n<script>\n\n    import Prism from 'svelte-prism'\n\t\texport let nodes\n\t\texport let id\n\t\texport let opt\n\t\texport let width\n\t\texport let depth\n\t\texport let view\n</script>\n<div contentedit=true>\n\t\n\n<Prism language=\"html\" >\n\t{nodes[id].content.text}\n</Prism>\n</div>","<script>\nimport Image from './Image.svelte'\nexport let opt\nexport let nodes\nexport let id\nexport let width\nexport let depth\nexport let view\nlet backgroundImageID=nodes[id].links.filter(x=>x.view=='header')[0].id\n// https://images.unsplash.com/photo-1607088829306-76f3779160f6?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80\n</script>\n{#if nodes[backgroundImageID]}\n    <section class=\"masthead\" role=\"img\" aria-label=\"Image Description\" style=\"background-image:url({nodes[backgroundImageID].content.src})\">\n  \t\t<h1  on:click={()=>{opt.history.push(opt.base); opt.base=id; console.log(id)}}>{@html nodes[id].content.title}</h1>\n\t</section>\n    {/if}\n\n\n<style>\n\t.masthead {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  text-align: center;\n  width: 100%;\n  height: 60vw; /* if you don't want it to take up the full screen, reduce this number */\n  max-height: 400px;\n  overflow: hidden;\n  background-size: cover !important;\n  background:  no-repeat center center scroll;\n}\n\nh1 {\n  font-style: normal;\n  font-weight: bold;\n  color: #eee;\n  font-size: min(8vmin,30px);\n  letter-spacing: 0.03em;\n  line-height: 1;\n  text-shadow: 1px 2px 4px rgba(0, 0, 0, 0.8);\n  margin-bottom: -90px;/* 40 to be in middle */\n}</style>\n","<script>\n\timport { flip } from 'svelte/animate';\n\timport { dndzone } from 'svelte-dnd-action';\n\timport Svg from './Svg.svelte'\n\timport Paragraph from './Paragraph.svelte'\n\timport Image from './Image.svelte'\n\timport Video from './Video.svelte'\n\timport Code from './Code.svelte'\n\timport Section from './Section.svelte'\n\timport Options from './Options.svelte'\n\timport Style from './Style.svelte'\n\timport Connection from './Connection.svelte'\n\timport Authorization from './Authorization.svelte'\n\timport Svega from './Svega.svelte'\n\timport Data from './Data.svelte'\n\timport CouchDB from './CouchDB.svelte'\nimport { check_outros } from 'svelte/internal';\n\texport let nodes\n\texport let opt\n\texport let id\n\texport let depth\n\texport let width\n\texport let view\n\tlet key\n\n\tlet exempt=[\"Header\"]\n\n\tlet comp={\tParagraph:Paragraph, \n\t\t\t\tImage:Image,\n\t\t\t\tVideo:Video,\n\t\t\t\tCode:Code,\n\t\t\t\tSvg:Svg,\n\t\t\t\tSection:Section,\n\t\t\t\tOptions:Options,\n\t\t\t\tStyle:Style,\n\t\t\t\tConnection:Connection,\n\t\t\t\tAuthorization:Authorization,\n\t\t\t\tSvega:Svega,\n\t\t\t\tData:Data}\n\n\tconst flipDurationMs = 400;\n\t\n\tfunction handleDndConsider(e) {\n\t\tnodes[id].links = e.detail.items\n\t}\n\t\n\tfunction handleDndFinalize(e) {\n\t\t\n\t\tnodes[id].links = e.detail.items;\n\t\tpost(id)\n\t\tconsole.log('update node with links')\n\t}\n\t\n\t\nasync function post(id) {\n\ttry {\n\t\tconst options={\n\t\t\tmethod: 'put',\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\"authorization\": 'Basic ' + btoa(opt.user + ':' + opt.pwd)\n\t\t\t},\n\t\t\tbody: JSON.stringify(nodes[id])\n\t\t}\n\t\tconst response=await fetch(opt.url+id, options)\n\t\tconst data= await response.json()\n\t\tnodes[id]._rev=data.rev\n\t\tconsole.log(options)\n\t\tconsole.log(data)\n\t}\n\tcatch (err) {console.log(err)}\n}\n\nasync function get(id){\n\t\n\ttry {\n\t\tif (Array.isArray(id))\n\t\t\t{\n\t\t\t\tconst options={\n    \t\t\tmethod: 'post',\n    \t\t\theaders: {\n      \t\t\t\"Content-Type\": \"application/json\"\n    \t\t\t},\n    \t\t\tbody: JSON.stringify({keys:id.map(el=>el.id), include_docs:true})\n\t\t\t  }\n\t\t\t\tconst response=await fetch(opt.url+'_all_docs', options)\n\t\t\t\tconst data= await response.json()\n\t\t\t\tconst add=[]\n\t\t\t\tdata.rows.forEach(el => {\n\t\t\t\t\tnodes[el.id]=el.doc; \n\t\t\t\t\tif (nodes[el.id].hasOwnProperty('links'))\n\t\t\t\t\t\t{if (nodes[el.id].links.length>0)\t\n\t\t\t\t\t\t\t{nodes[el.id].links.forEach(link=>add.push(link))}; };\n\t\t\t\t\t\t});\n\t\t\t\t if (add.length>0){await get(add)};// not sure how add coulc be empty as links.length has to be >0\n\t\t\t\treturn data\n\t\t\t}\n\t\telse {\n\t\t\tif (nodes[id]) //don't fetch it twice\n\t\t\t\t{ //IF nodes[id].links and these not in keys(nodes) then bulk-fetch these\n\t\t\t\t\treturn nodes[id]}\n\t\t\telse \n\t\t\t\t{\n\t\t\t\tconst response=await fetch(opt.url+id)\n\t\t\t\t//console.log(response)\n\t\t\t\tconst data= await response.json()\n\t\t\t\tnodes[id]=data;\n\t\t\t\t\n\t\t\t\tif (data.hasOwnProperty('links')) {await get(data.links)}\n\t\t\t\treturn nodes[id]\n\t\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t\n\tconsole.log(id)\n\t\tconsole.log(err)\n\t\treturn err\n\t}\t\n}\n\nfunction addRemove(event,id){console.log(event.offsetY/event.currentTarget.getBoundingClientRect().height);}\n\n</script>\n{#await get(id)}\n\tloading {id}\n\t\n{:then go}\n\n\t<svelte:component this={comp[nodes[id].type]} bind:nodes={nodes} bind:opt={opt} id={id} width={width} depth={depth} view={view}/>\n\n\t{#if nodes[id].links}\n\t\t<section use:dndzone={{items:nodes[id].links, flipDurationMs,type:'dnd',dragDisabled:opt.dragDisabled}}\n\t\t\t\t\ton:consider={handleDndConsider} \n\t\t\t\t\ton:finalize={handleDndFinalize}>\n\t\t\t{#if depth<=opt.depth}\n\t\t\t\t{#each nodes[id].links as link (link.id)}\n\t\t\t\t\t\t<div animate:flip=\"{{duration: flipDurationMs}}\" class=\"item\" on:click={(event)=>addRemove(event,link.id)}>\n\t\t\t\t\t\t\t<svelte:self bind:nodes={nodes} bind:opt={opt} id={link.id} width={width} depth={depth+1} view={link.view}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t{/if}\n\t\t</section>\n\t{/if}\n{:catch error}\n\t<p style=\"color: red\">{error.message}</p>\n{/await}\n\n<style>\n\tsection {\n\t\twidth: auto;\n\t\tmax-width: 800px;\n\t\tborder: 0px solid black;\n\t\tpadding: 0;\n        /* this will allow the dragged element to scroll the list */\n\t\toverflow-y: auto ;\n\t\theight: auto;\n\t\tbackground-color: white /* rgba(100, 100, 100, 0.05);*/ \n\t}\n\tdiv {\n\t\twidth: 100%;\n\t\tpadding: 0.2em;\n\t\tborder: 0px solid blue;\n\t\tmargin: 0.15em 0;\n\t}\n\t.item {\n\t\tbackground-color: white /*rgba(00, 100, 100, 0.05);*/\n\t}\n</style>","<script>\n\timport Content from './Content.svelte'\n\timport { dndzone } from 'svelte-dnd-action';\n\timport Svg from './Svg.svelte'\n\tlet nodes={}\n\tlet opt={'depth':1,\n\t\t\t 'base':'root',\n\t\t\t url:'https://9231c9c3-121c-4b8e-bbfd-ac275ec62eb9-bluemix.cloudantnosqldb.appdomain.cloud/test/',\n\t\t\t 'edit':false, \n\t\t\t 'history':[], \n\t\t\t 'dragDisabled':true,\n\t\t\t 'user':\"apikey-81f76e82d4154627812593832eb9c4cb\",\n\t\t\t 'pwd':\"8918d591770b9449c2012979b0f9101b5416e1c6\"}\n\tlet key=false\n\t\n\tfunction _handleKeydown(event) {\n\t\tkey = event.which;\n\t}\n\n\tconst newNodes=\"957fd8f002d38bd256c615b4c84cd5fc\"\n\t\n\tasync function getID(id){\n\tif (!nodes[id]){\n\tawait fetch(opt.url+id)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tnodes[id]= data;\n\t\tconsole.log(id)\n\t\t}).catch(function(error) {\n        console.log(error);\n    });\n\t}\n}\n\tlet start\n\tlet menuWidth=\"40px\"\n\tfunction startTimer(){\n\t\tstart=Date.now()\n\t}\n\tfunction check(){\n\t\tconst elapsed=Date.now()-start\n\t\tif (elapsed<500)\n\t\t\t{\tif (opt.history.length>0){\n\t\topt.base=opt.history[opt.history.length-1];\n\t\topt.history.pop()\n\t}}\n\t\telse\n\t\t\t{\n\t\t\t\tif (menuWidth==\"40px\")\n\t\t\t\t\t{menuWidth='100%'}\n\t\t\t\t\telse\n\t\t\t\t\t{menuWidth=\"40px\"}\n\t\t\t}\n\t}\n\n\tfunction toggle(x){x=!x}\n\t\n\t$: if(key==68) {opt.drag=!opt.drag} else if (key==69) {opt.edit=!opt.edit} // add authorization\n</script>\n<svelte:window on:keydown=\"{_handleKeydown}\" on:keyup=\"{() => key = false}\"/>\n\n<section>\n<Content bind:nodes={nodes} bind:opt={opt} id={opt.base} depth={1}/>\n</section>\n\n<div class=\"back\" style=\"width: {menuWidth}\" on:mousedown|self={()=>startTimer()} on:mouseup|self={()=>check()} on:touchstart|self={()=>startTimer()} on:touchend|self={()=>check()}>\n{#if menuWidth==\"100%\"}\n\t<span  class=\"control\" ><Svg name=\"Connection\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Authorization\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Trash\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Cut\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Section\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Code\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Video\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Image\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" ><Svg name=\"Paragraph\" size=30 fill=\"black\"/></span>\n\t<span  class=\"control\" on:click={()=>{opt.edit=!opt.edit}}><Svg name=\"Editor\" size=30 fill={(opt.edit)?\"olive\":\"crimson\"}/></span>\n\t<span  class=\"control\" on:click={()=>{opt.dragDisabled=!opt.dragDisabled}}><Svg name=\"Move\" size=30 fill={(opt.dragDisabled)?\"crimson\":\"olive\"}/></span>\n\t<span  class=\"control\" ><Svg name=\"Equation\" size=30 fill=\"black\"/></span>\n{/if}\n</div>\n{#await getID(newNodes)}\n{:then go}\n{/await}\n\n\n<style>\n:global(body){\n\tmargin:0;\n\tpadding:0;\n\n\t}\n\n\n\t.back {\n\t\tbox-sizing: border-box;\n\t\tdisplay:flex;\n\t\tflex-direction: row-reverse;\n\t\tjustify-content: center;\n\t\talign-content: center;\n\t\theight: 40px;\n\t\tbackground-color: rgba(230,230,240,0.8);\n\t\tposition: fixed;\n  \t\tright: 0;\n  \t\tbottom: 0;\n\t\tborder-radius: 15px 0px 0px 0px;\n\t\tpadding-right:40px;\n\t\twhite-space: nowrap;\n\t}\n\t.control {\n\t\twidth:40px;\n\t\theight:40px;\n\t\tmargin:0px;\n\t\tpadding:40;\n\t\tdisplay: inline-block;\n\t\tpadding: 5px\n\t}\n\t\n\t.new {\n\t\twidth: 40px;\n\t\tmin-height: 40px;\n\t\tbackground-color: coral;\n\t\tposition: fixed;\n  \tleft: 0;\n  \tbottom: 0;\n\t\tborder-radius: 0px 10px 0px 0px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap:wrap;\n\t\tjustify-content: center\n\t}\n\t\n\t.item {\n\t\twidth:30px;\n\t\theight:30px;\n\t\tbackground-color: white;\n\t\tmargin: 5px;\n\t\tborder-radius: 10px;\n\t\tpadding-left: 5px;\n\t\tpadding-top: 3px\n\t}\n\tsection {\n\t\tmargin-left: auto;\n\t\tmargin-right:auto;\n\t\twidth: 100%;\n\t\tmax-width: 800px;\n\t\tborder: 0px solid black;\n\t\tpadding: 0;\n        /* this will allow the dragged element to scroll the list */\n\t\toverflow-y: auto ;\n\t\theight: auto;\n\t\tbackground-color: white /* rgba(100, 100, 100, 0.05);*/ \n\t}\n</style>","import App from './App.svelte';\n\nvar app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","get_slot_context","definition","ctx","$$scope","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","exclude_internal_props","props","result","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","self","this","call","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","set_style","key","important","style","setProperty","HtmlTag","[object Object]","e","n","html","nodeName","t","h","innerHTML","Array","from","childNodes","d","active_docs","current_component","active","delete_rule","previous","animation","split","next","filter","anim","indexOf","deleted","join","doc","stylesheet","__svelte_stylesheet","cssRules","deleteRule","__svelte_rules","clear","create_animation","params","to","getBoundingClientRect","left","right","top","bottom","delay","duration","easing","start","start_time","end","tick","css","running","started","stop","callback","Promise","fulfill","add","loop","ease","uid","step","keyframes","rule","str","hash","charCodeAt","ownerDocument","head","sheet","current_rules","insertRule","create_rule","fix_position","getComputedStyle","position","width","height","transform","add_transform","set_current_component","component","get_current_component","Error","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","push","add_flush_callback","flushing","seen_callbacks","flush","update","$$","pop","has","fragment","before_update","after_update","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","handle_promise","promise","info","token","type","index","resolved","child_ctx","current","needs_flush","blocks","m","mount","then","error","catch","hasCatch","pending","fix_and_outro_and_destroy_block","lookup","outro_and_destroy_block","bind","bound","create_component","mount_component","on_mount","on_destroy","new_on_destroy","map","destroy_component","detaching","make_dirty","fill","init","instance","create_fragment","not_equal","parent_component","prop_values","context","Map","callbacks","skip_bound","ready","ret","rest","hydrate","nodes","children","l","intro","SvelteComponent","$destroy","splice","$$props","obj","$$set","keys","cubicOut","flip","scaleX","clientWidth","scaleY","clientHeight","dx","dy","sqrt","_t","u","dispatchFinalizeEvent","el","items","dispatchEvent","CustomEvent","detail","dispatchConsiderEvent","DRAGGED_ENTERED_EVENT_NAME","DRAGGED_LEFT_EVENT_NAME","DRAGGED_OVER_INDEX_EVENT_NAME","DRAGGED_LEFT_DOCUMENT_EVENT_NAME","dispatchDraggedElementEnteredContainer","containerEl","indexObj","draggedEl","dispatchDraggedElementLeftContainer","dispatchDraggedElementIsOverIndex","TRIGGERS","SOURCES","SHADOW_ITEM_MARKER_PROPERTY_NAME","ITEM_ID_KEY","activeDndZoneCount","incrementActiveDropZoneCount","decrementActiveDropZoneCount","isOnServer","getAbsoluteRectNoTransforms","rect","ta","tx","sx","sy","startsWith","transformOrigin","parseFloat","y","w","offsetWidth","offsetHeight","adjustedBoundingRect","scrollY","scrollX","getAbsoluteRect","isPointInsideRect","point","findCenterOfElement","isCenterOfAInsideB","elA","elB","calcDistanceBetweenCenters","centerOfA","centerOfB","pointA","pointB","pow","findWouldBeIndex","floatingAboveEl","collectionBelowEl","isProximityBased","minDistanceSoFar","Number","MAX_VALUE","indexOfMin","distance","makeScroller","scrollingInfo","resetScrolling","directionObj","stepPx","scrollContainer","scrollBy","calcScrollStepPx","distancePx","scrollIfNeeded","pointer","elementToScroll","distances","min","documentElement","calcInnerDistancesBetweenPointAndSidesOfElement","isAlreadyScrolling","scrollingVertically","scrollingHorizontally","scrollHeight","scrollWidth","getDepth","_getDepth","countSoFar","parentElement","observe","dropZones","intervalMs","lastDropZoneFound","lastIndexFound","lastCentrePositionOfDragged","lastIsDraggedInADropZone","dropZonesFromDeepToShallow","sort","dz1","dz2","andNow","currentCenterOfDragged","abs","setTimeout","isElementOffDocument","dispatchDraggedLeftDocument","isDraggedInADropZone","dz","mousePosition","updateMousePosition","touches","clientX","clientY","trs","property","morphDraggedElementToBeLike","copyFromEl","currentMouseX","currentMouseY","transformDraggedElement","newRect","draggedElRect","widthChange","heightChange","relativeDistanceOfMousePointerFromDraggedSides","copyStylesFromTo","copyToEl","computedStyle","s","getPropertyValue","getPropertyPriority","styleDraggable","draggableEl","dragDisabled","draggable","ondragstart","userSelect","cursor","styleActiveDropZones","getStyles","styles","styleInactiveDropZones","DEFAULT_DROP_TARGET_STYLE","outline","originalDragTarget","draggedElData","draggedElType","originDropZone","originIndex","shadowElData","shadowElDropZone","dragStartMousePosition","currentMousePosition","isWorkingOnPreviousDrag","finalizingPreviousDrag","typeToDropZones","dzToConfig","elToMouseDownListener","WeakMap","unregisterDropZone","dropZoneEl","get","watchDraggedElement","handleDraggedEntered","handleDraggedLeft","handleDraggedIsOverIndex","handleDrop","observationIntervalMs","dropAnimationDurationMs","unWatchDraggedElement","clearTimeout","dropFromOthersDisabled","currentTarget","shadowElIdx","trigger","id","source","findIndex","item","handleMouseMove","preventDefault","finalizeFunction","moveDraggedElementToWasDroppedState","dropTargetStyle","visibility","cleanupPostDrop","animateDraggedToFinalPosition","finalItems","shadowElRect","newTransform","transition","remove","dndzone","config","flipDurationMs","elToIdx","removeMaybeListeners","handleMouseMoveMaybeDragStart","handleFalseAlarm","currentIdx","keepOriginalElementInDom","itemsNow","dragTarget","body","focus","display","zIndex","originalElement","cloneNode","margin","boxSizing","createDraggedElementFrom","passive","capture","handleDragStart","handleMouseDown","button","stopPropagation","configure","newType","set","objA","objB","keyA","hasOwnProperty","areObjectsShallowEqual","idx","newOptions","destroy","INSTRUCTION_IDs","DND_ZONE_ACTIVE","DND_ZONE_DRAG_DISABLED","ID_TO_INSTRUCTION","alertsDiv","alertToScreenReader","txt","alertText","draggedItemType","focusedDz","focusedItem","focusedItemId","isDragging","focusedDzLabel","focusedItemLabel","allDragTargets","WeakSet","elToKeyDownListeners","elToFocusListeners","dzToHandles","opacity","prepend","entries","div","instructionToHiddenDiv","globalKeyDownHandler","globalClickHandler","activeElement","handleZoneFocus","newlyFocusedDz","originItems","originItem","find","originIdx","itemToMove","targetItems","autoAriaDisabled","unshift","triggerAllDzsUpdate","dispatchConsider","blur","swap","arr","j","handleKeyDown","isContentEditable","focusedItemIdx","setCurrentFocusedItem","handleClick","tabIndex","contains","handles","validateOptions","pointerZone","pointerDndZone","keyboardZone","keyboardDndZone","console","warn","itemWithMissingId","object","JSON","stringify","viewbox","stroke","Paragraph","Image","Video","Section","Editor","Move","Code","Authorization","Connection","Equation","Trash","Cut","content","edit","timer","opt","depth","view","debounce","log","method","headers","Content-Type","Accept","authorization","btoa","user","pwd","response","fetch","url","json","_rev","rev","err","post","caption","Prism","manual","_self","lang","uniqueId","_","disableWorkerMessageHandler","util","encode","tokens","Token","alias","isArray","replace","prototype","toString","objId","defineProperty","clone","deepClone","visited","v","getLanguage","test","className","match","toLowerCase","currentScript","exec","stack","scripts","getElementsByTagName","isActive","defaultActivation","no","classList","languages","extend","redef","inside","before","root","grammar","newToken","old","DFS","propertyType","plugins","highlightAll","async","highlightAllUnder","container","env","selector","hooks","elements","apply","querySelectorAll","highlightElement","language","parent","code","textContent","insertHighlightedCode","highlightedCode","Worker","worker","filename","onmessage","evt","postMessage","immediateClose","highlight","tokenize","tokenList","LinkedList","addAfter","matchGrammar","list","array","tail","toArray","all","matchedStr","startNode","startPos","rematch","patterns","cause","patternObj","lookbehind","greedy","lookbehindLength","pattern","global","flags","RegExp","currentNode","pos","reach","removeCount","prev","lastIndex","matchStr","after","removeFrom","removeRange","newNode","count","tag","classes","attributes","aliases","message","parse","close","script","highlightAutomaticallyCallback","hasAttribute","readyState","defer","WorkerGlobalScope","module","exports","markup","comment","prolog","doctype","internal-subset","string","punctuation","doctype-tag","cdata","namespace","attr-value","attr-name","entity","tagName","includedCdataInside","included-cdata","def","mathml","svg","xml","ssml","atom","rss","atrule","selector-function-argument","keyword","function","addInlined","style-attr","clike","class-name","boolean","number","operator","javascript","regex","regex-source","regex-flags","regex-delimiter","function-variable","parameter","constant","template-string","template-punctuation","interpolation","interpolation-punctuation","js","EXTENSIONS","py","rb","ps1","psm1","sh","bat","tex","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","matches","extension","setLanguageClass","autoloader","loadLanguages","xhr","XMLHttpRequest","open","onreadystatechange","status","responseText","statusText","send","fileHighlight","logged","arguments","trim","slot_ctx","svelte","each","language-javascript","prism","_prism","globalConfig","formattedCode","highlightCode","title","backgroundImageID","links","history","base","action_result","old_blocks","get_key","dynamic","create_each_block","get_context","old_indexes","new_blocks","new_lookup","deltas","will_move","did_move","first","new_block","old_block","new_key","old_key","comp","Svg","Options","Style","Svega","Data","include_docs","rows","link","offsetY","addRemove","newNodes","menuWidth","startTimer","check","drag","which","res"],"mappings":"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"}